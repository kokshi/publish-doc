{"config":{"lang":["en","ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to Kokshi Lab!","text":"<p>\u5099\u5fd8\u9332\u3067\u3059\u3002</p>"},{"location":"#_1","title":"\u81ea\u5df1\u7d39\u4ecb","text":"<p>\u72ac\u77f3 \u3053\u304f\u3057 (Inuishi Kokushi)</p> <p>\u7d44\u307f\u8fbc\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u4e2d\u5fc3\u306b\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3084\u30a4\u30f3\u30d5\u30e9\u3092\u304b\u3058\u3063\u3066\u3044\u308b\u3002</p> <p>Twitter  Github </p>"},{"location":"document/","title":"\u6982\u8981","text":"<p>\u500b\u4eba\u7684\u306a\u30e1\u30e2\u3068\u6280\u8853\u6587\u66f8\u304c\u7f6e\u304b\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"future_development/","title":"\u3084\u308a\u305f\u3044\u3053\u3068\u30ea\u30b9\u30c8","text":""},{"location":"future_development/#_2","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3","text":""},{"location":"future_development/#_3","title":"\u7d44\u307f\u8fbc\u307f","text":"<ul> <li>IoT\u3068\u30b5\u30fc\u30d0\u30fc\u306e\u901a\u4fe1<ul> <li>Protobuf\u5316<ul> <li>c: nanopb</li> <li>python: \u7d14\u6b63protobuf<ul> <li>protoc\u74b0\u5883\u69cb\u7bc9</li> </ul> </li> </ul> </li> <li>TCP<ul> <li>\u5358\u4e00\u30bb\u30c3\u30b7\u30e7\u30f3</li> <li>\u4f7f\u3044\u6368\u3066\u308b</li> <li>\u30b3\u30de\u30f3\u30c9\u7684</li> </ul> </li> </ul> </li> </ul>"},{"location":"future_development/#api-server","title":"API Server","text":"<ul> <li>FastAPI<ul> <li>Python</li> </ul> </li> <li>socket.io<ul> <li>\u975e\u540c\u671f\u7684(not \u30ea\u30af\u30a8\u30b9\u30c8-\u30ec\u30b9\u30dd\u30f3\u30b9)\u3092\u771f\u9762\u76ee\u306b\u3084\u308a\u305f\u304f\u306a\u3044</li> <li>\u6280\u8853\u306e\u9078\u5b9a\u3055\u305b\u306a\u3044\u3067\u307b\u3057\u3044</li> </ul> </li> </ul>"},{"location":"future_development/#frontend","title":"Frontend","text":"<ul> <li>vue<ul> <li>\u305b\u3063\u304b\u304f\u4f1a\u793e\u3067\u3084\u3063\u3066\u3093\u3060\u304b\u3089\u4e00\u56de\u3084\u3063\u3066\u304a\u304d\u305f\u3044</li> <li>vue-router<ul> <li>\u3081\u3093\u3069\u304f\u306d\uff1f</li> </ul> </li> <li>vuetify</li> <li>\u3068\u308a\u3042\u3048\u305a\u5b66\u7fd2\u30b3\u30b9\u30c8\u3082\u3042\u308b\u3057SSR\u306a\u3057\u3067\u3084\u3063\u3066\u304a\u304d\u305f\u3044</li> </ul> </li> </ul>"},{"location":"future_development/#_4","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30d5\u30e9","text":"<ul> <li>PPPoE\u3068\u306e\u4f75\u7528\u3092\u3084\u3081\u308b</li> <li>\u3059\u3079\u3066\u306fVPN\u3067\u63a5\u7d9a(Tailscale)<ul> <li>\u8e0f\u307f\u53f0\u304c\u3042\u308c\u3070\u7279\u5225\u306a\u3053\u3068\u306f\u3059\u308b\u5fc5\u8981\u306a\u3044</li> </ul> </li> </ul> <p>\u2192OK!</p>"},{"location":"future_development/#_5","title":"\u30b5\u30fc\u30d0\u30fc\u30a4\u30f3\u30d5\u30e9","text":"<ul> <li>Proxmox or ESXi</li> <li>\u30af\u30e9\u30b9\u30bf\u5316</li> <li>NAS\u306f\u5206\u96e2</li> </ul> <p>https://hchch.net/2021-nas2/</p> <p>\u79fb\u8a2d</p> <ul> <li>iSCSI</li> </ul>"},{"location":"future_development/#_6","title":"\u76e3\u8996","text":"<ul> <li>Prometheus + Grafana</li> </ul>"},{"location":"future_development/#_7","title":"\u305d\u306e\u4ed6","text":"<ul> <li>SPRESENSE<ul> <li>nuttx</li> <li>Debug : JTAG : https://akizukidenshi.com/catalog/g/gK-06503/</li> </ul> </li> </ul>"},{"location":"mkdocs/","title":"MkDocs","text":"<p>MkDocs\u306f\u3001Markdown\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u9759\u7684\u30b5\u30a4\u30c8\u3092\u751f\u6210\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002</p>"},{"location":"mkdocs/#_1","title":"\u52d5\u304b\u3059","text":""},{"location":"mkdocs/#material-for-mkdocs","title":"Material for MkDocs","text":"<p>\u30de\u30c6\u30ea\u30a2\u30eb\u30c7\u30b6\u30a4\u30f3\u306e\u30c6\u30fc\u30de\u304c\u9069\u7528\u3055\u308c\u305fMkDocs\u3002Docker\u3067\u52d5\u4f5c\u53ef\u80fd\u3002</p>"},{"location":"mkdocs/#material-for-mkdocs-plantuml","title":"Material for MkDocs + Plantuml","text":"<p>\u4eca\u56de\u306fPlantuml\u3082\u4f7f\u3044\u305f\u3044\u306e\u3067\u4e0b\u8a18\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u7528\u3059\u308b\u3002</p> <p>Github - mikaelhg/mkdocs-material-plantuml</p>"},{"location":"mkdocs/#_2","title":"\u30d3\u30eb\u30c9","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u4e0a\u3067\u5b9f\u884c\u3002</p> <pre><code>$ docker run --rm -it -v ${PWD}:/docs ghcr.io/mikaelhg/mkdocs-material-plantuml:latest\n</code></pre>"},{"location":"mkdocs/#_3","title":"\u958b\u767a\u7528\u30b5\u30fc\u30d0\u30fc","text":"<p>\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u691c\u77e5\u3057\u3066\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u308c\u308b\u3002</p> <pre><code>$ docker run --rm -it -p 8000:8000 -v ${PWD}:/docs ghcr.io/mikaelhg/mkdocs-material-plantuml:latest serve --dev-addr=0.0.0.0:8000\n</code></pre>"},{"location":"mkdocs/#github-actions","title":"\u30c7\u30d7\u30ed\u30a4 (Github Actions)","text":"<p>Push\u3059\u308b\u3068\u30b5\u30a4\u30c8\u304c\u751f\u6210\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3002</p> <p>\u6d41\u308c\u3068\u3057\u3066\u306f\u6b21\u306e\u901a\u308a(Github Actions\u3092\u3088\u304f\u77e5\u3089\u306a\u3044\u306e\u3067\u9593\u9055\u3063\u305f\u7406\u89e3\u306e\u53ef\u80fd\u6027\u3042\u308a)\u3002</p> <ol> <li><code>on: push: - main</code>\u3067push\u3092\u691c\u77e5\u3002</li> <li><code>actions/checkout@v2</code></li> <li><code>docker://ghcr.io/mikaelhg/mkdocs-material-plantuml:latest</code>\u3067\u9759\u7684\u30b5\u30a4\u30c8\u3092\u751f\u6210(\u30b3\u30f3\u30c6\u30ca\u306eEntrypoint\u304cbuild\u306b\u306a\u3063\u3066\u3044\u308b\u3001volume\u306b\u3069\u3046\u3084\u3063\u3066\u7d10\u3065\u3051\u3066\u3044\u308b\u304b\u306f\u4e0d\u660e)</li> <li><code>peaceiris/actions-gh-pages@v3</code>\u3067\u751f\u6210\u3055\u308c\u305f\u30b5\u30a4\u30c8\u3092Github Pages\u306b\u30c7\u30d7\u30ed\u30a4\u3002</li> </ol> <pre><code>on:\npush:\nbranches:\n- main\njobs:\ndeploy:\nruns-on: ubuntu-latest\nsteps:\n- name: Checkout\nuses: actions/checkout@v2\n- name: mkdocs build\nuses: docker://ghcr.io/mikaelhg/mkdocs-material-plantuml:latest\n- uses: peaceiris/actions-gh-pages@v3\nwith:\npersonal_token: ${{ secrets.PERSONAL_TOKEN }}\nexternal_repository: kokshi/publish-doc\npublish_dir: ./site\n</code></pre>"},{"location":"mkdocs/#_4","title":"\u53c2\u8003","text":"<ul> <li>Material for MkDocs - Publishing your site</li> <li>MkDocs \u3067\u4f5c\u3063\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092 GitHub Actions \u3092\u4f7f\u3063\u3066 GitHub Pages \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3088\u3046</li> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u69cb\u7bc9\u5411\u3051\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u300cMaterial for MkDocs\u300d\u306e\u8272\u3005\u306a\u8a2d\u5b9a\u3092\u8a66\u3057\u3066\u307f\u308b(\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u7de8)</li> <li>flap1 - \u3010MkDocs\u3011\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8</li> </ul>"},{"location":"app/flet/","title":"Flet","text":"<p>Created: 2023/09/02</p>"},{"location":"app/flet/#_1","title":"\u6982\u8981","text":"<p>Flet\u306fFlutter\u30d9\u30fc\u30b9\u306e\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306aGUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u7cbe\u901a\u3057\u3066\u3044\u306a\u304f\u3066\u3082\u3001\u4e00\u5b9a\u4ee5\u4e0a\u306e\u30af\u30aa\u30ea\u30c6\u30a3\u30fc\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u4f5c\u308c\u308b\u3088\u3046\u306a\u3082\u306e\u3092\u76ee\u6307\u3057\u3066\u958b\u767a\u3055\u308c\u3066\u308b\u3089\u3057\u3044\u3067\u3059\u3002</p>"},{"location":"app/flet/#_2","title":"\u52d5\u6a5f","text":"<p>Python\u3067\u7c21\u5358\u306b\u66f8\u3051\u308bGUI\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u63a2\u3057\u3066\u3044\u305f\u306e\u3067\u305d\u306e\u5019\u88dc\u3067\u3059\u3002\u6b21\u306e\u4e8b\u304c\u3067\u304d\u308c\u3070\u826f\u3044\u3067\u3059\u3002</p> <ul> <li>\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u306e\u30b7\u30fc\u30b1\u30f3\u30b9\u52d5\u4f5c<ul> <li>\u88cf\u3067\u52d5\u4f5c\u3057\u3066\u72b6\u614b\u304cGUI\u3067\u78ba\u8a8d\u3067\u304d\u305f\u308a\u3059\u308c\u3070OK</li> </ul> </li> <li>\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u7684\u306a\u66f8\u304d\u65b9<ul> <li>tkinter\u304c\u524d\u82e6\u75db\u3060\u3063\u305f\u306e\u3067</li> </ul> </li> <li>\u51dd\u3089\u306a\u304f\u3066\u3082\u898b\u305f\u76ee\u304c\u826f\u3044\u3053\u3068</li> </ul>"},{"location":"app/flet/#_3","title":"\u8cc7\u6599","text":"<p>https://qiita.com/NasuPanda/items/48849d7f925784d6b6a0</p> <p>https://www.sohobb.jp/event/pythonflet%E3%81%AB%E3%82%88%E3%82%8B%E3%82%AF%E3%83%AD%E3%82%B9%E3%83%97%E3%83%A9%E3%83%83%E3%83%88%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%82%A2%E3%83%97%E3%83%AA%E9%96%8B%E7%99%BAflutter/</p>"},{"location":"app/influxdb/","title":"InfluxDB","text":"<p>Created: 2023/06/15</p>"},{"location":"app/influxdb/#_1","title":"\u6982\u8981","text":"<p>InfluxDB\u3092\u8a66\u3057\u3064\u3064\u60c5\u5831\u3092\u84c4\u7a4d\u3057\u307e\u3059\u3002</p>"},{"location":"app/influxdb/#_2","title":"#\u3068\u306f","text":"<p>InfluxDB Times Series Data Platform | InfluxData</p> <p>InfluxDB. It's About Time. Manage all types of time series data in a single, purpose-built database. Run at any scale in any environment in the cloud, on-premises, or at the edge.</p> <p>\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u3059\u3002\u30bb\u30f3\u30b7\u30f3\u30b0\u30c7\u30fc\u30bf\u306a\u3069\u306e\u6642\u9593\u3068\u7d10\u3065\u3044\u305f\u30c7\u30fc\u30bf\u3092\u6271\u3048\u307e\u3059\u3002</p>"},{"location":"app/influxdb/#_3","title":"\u52d5\u304b\u3059","text":"<p>Docker\u3067\u7c21\u5358\u306b\u52d5\u304d\u307e\u3059\u3002</p> <pre><code>sudo docker run -p 8086:8086 -v myInfluxVolume:/var/lib/influxdb2 -d -t influxdb influxdb:latest\n</code></pre> <p>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u7d42\u308f\u308b\u3068GUI\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p>"},{"location":"app/influxdb/#influx-cli","title":"\u4f7f\u3046 (Influx CLI)","text":"<p>Docker\u30b3\u30f3\u30c6\u30ca\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>$ sudo docker exec -it influxdb influx version\nInflux CLI dev (git: none) build_date: 2023-04-28T14:24:14Z\n</code></pre> <ul> <li><code>bucket</code> ... Bucket management commands</li> <li><code>export</code> ... Export resources as a template</li> <li><code>help</code> ... List all commands</li> <li><code>help [command]</code> ... Get help with an individual command</li> <li><code>query</code> ... Execute a query</li> <li><code>write</code> ... Write points to InfluxDB</li> </ul> <p>Web\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30d8\u30eb\u30d7\u304c\u3042\u3063\u305f\u306e\u3067\u53c2\u8003\u306bCLI\u3092\u89e6\u3063\u3066\u307f\u307e\u3059\u3002\u3053\u3053\u304b\u3089<code>$ sudo docker exec -it influxdb bash</code>\u3067\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30b7\u30a7\u30eb\u3067\u4f5c\u696d\u3057\u307e\u3059\u3002</p>"},{"location":"app/influxdb/#configure-an-influxdb-profile","title":"Configure an InfluxDB profile","text":"<p>InfluxDB\u306e\u63a5\u7d9a\u3092\u69cb\u6210\u3057\u307e\u3059\u3002Web\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u304c\u30b5\u30f3\u30d7\u30eb\u3092\u304f\u308c\u307e\u3059\u3002</p> <pre><code>$ influx config create --config-name onboarding \\\n--host-url \"http://[InfluxDB_Host]:8086\" \\\n--org \"[ORG]\" \\\n--token \"[Token]\" \\\n--active\nActive  Name            URL                             Org\n*       onboarding      http://[InfluxDB_Host]:8086      [ORG]\n</code></pre> <p><code>--org \"[ORG]\"</code>\u306fID\u3067\u306f\u306a\u304fName\u306e\u65b9\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\u3067\u306a\u3044\u3068<code>Error: failed to lookup org with name \"[org_id]\": 404 Not Found: organization name \"[org_id]\" not found</code>\u3068\u6012\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"app/influxdb/#select-or-create-a-bucket","title":"Select or Create a bucket","text":"<p>Bucket\u3092\u4f5c\u308a\u307e\u3059\u3002</p> <p></p> <pre><code>$ influx bucket create --name sample-bucket -c onboarding\n</code></pre>"},{"location":"app/influxdb/#write-data","title":"Write Data","text":"<p>Bucket\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u306eCSV\u3092Amazon S3\u306b\u7528\u610f\u3057\u3066\u304f\u308c\u3066\u3044\u308b(\u512a\u3057\u3044\uff01)\u306e\u3067\u4f7f\u3044\u307e\u3059\u3002</p> <pre><code>$ influx write --bucket sample-bucket --url https://influx-testdata.s3.amazonaws.com/air-sensor-data-annotated.csv\n</code></pre> <p></p>"},{"location":"app/influxdb/#execute-a-flux-query","title":"Execute a Flux Query","text":"<p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u306e\u3067\u30af\u30a8\u30ea\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u4ee5\u524d\u306fInflux Query\u3068\u3044\u3046SQL\u30e9\u30a4\u30af\u306a\u30af\u30a8\u30ea\u8a00\u8a9e\u3060\u3063\u305f\u305d\u3046\u3067\u3059\u304c\u3001Flux\u304c\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3(2.x ~)\u3067\u306f\u4e3b\u6d41\u306e\u3088\u3046\u3067\u3059\u3002</p> <p>\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\u306a\u3093\u3060\u304b\u898b\u6163\u308c\u306a\u3044\u5f62\u3067\u3059\u304c\u3001\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u306b\u7279\u5316\u3057\u3066\u3044\u308b\u305f\u3081\u3053\u306e\u69d8\u306b\u306a\u3063\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002</p> <pre><code>from(bucket: \u201cweather-data\u201d)\n  |&gt; range(start: -10m)\n  |&gt; filter(fn: (r) =&gt; r._measurement == \u201ctemperature\u201d)\n</code></pre> <p>\u3067\u3001CLI\u3067\u5b9f\u884c\u3059\u308b\u3068\u304d\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u306b\u306a\u308a\u307e\u3059\u3002\u30ef\u30c3\u3068\u7d50\u679c\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <pre><code>$ influx query \"from(bucket:\\\"sample-bucket\\\") |&gt; range(start:-30m)\"\nResult: _result\nTable: keys: [_start, _stop, _field, _measurement, sensor_id]\n_start:time                      _stop:time           _field:string     _measurement:string        sensor_id:string                      _time:time                  _value:float\n------------------------------  ------------------------------  ----------------------  ----------------------  ----------------------  ------------------------------  ----------------------------\n2023-06-15T14:20:55.732612670Z  2023-06-15T14:50:55.732612670Z                      co              airSensors       TLM0100  2023-06-15T14:20:56.000000000Z            0.6540886812204695\n2023-06-15T14:20:55.732612670Z  2023-06-15T14:50:55.732612670Z                      co              airSensors       TLM0100  2023-06-15T14:21:06.000000000Z            0.6655087367528416\n...\n</code></pre> <p>\u96c6\u8a08\u3082\u3067\u304d\u308b\u307f\u305f\u3044\u3067\u3059\u3002\u4fbf\u5229\uff5e\uff01</p> <pre><code>$ influx query \"from(bucket:\\\"sample-bucket\\\") |&gt; range(start:-30m) |&gt; mean()\"\nResult: _result\nTable: keys: [_start, _stop, _field, _measurement, sensor_id]\n_start:time                      _stop:time           _field:string     _measurement:string        sensor_id:string                  _value:float\n------------------------------  ------------------------------  ----------------------  ----------------------  ----------------------  ----------------------------\n2023-06-15T14:22:28.665743801Z  2023-06-15T14:52:28.665743801Z                      co              airSensors                 TLM0100            0.6622839258689658\nTable: keys: [_start, _stop, _field, _measurement, sensor_id]\n_start:time                      _stop:time           _field:string     _measurement:string        sensor_id:string                  _value:float\n------------------------------  ------------------------------  ----------------------  ----------------------  ----------------------  ----------------------------\n2023-06-15T14:22:28.665743801Z  2023-06-15T14:52:28.665743801Z                humidity              airSensors                 TLM0100             35.78526123104399\n...\n</code></pre>"},{"location":"app/influxdb/#python","title":"\u4f7f\u3046 (Python)","text":"<p><code>influxdb-client</code>\u3068\u3044\u3046\u516c\u5f0f\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308a\u307e\u3059\u3002\u81ea\u5206\u306e\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002</p> <pre><code>pip install influxdb-client\n</code></pre>"},{"location":"app/influxdb/#_4","title":"\u63a5\u7d9a","text":"<p>WebUI\u304b\u3089\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p></p> <p>\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u74b0\u5883\u5909\u6570\u306b\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a\u3057\u3001\u305d\u3053\u304b\u3089\u53d6\u308b\u3088\u3046\u3067\u3059\u3002\u540c\u3058\u3088\u3046\u306b\u3084\u308a\u307e\u3057\u3087\u3046\u3002</p> <pre><code>export INFLUXDB_TOKEN=****\n</code></pre> <p>\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u74b0\u5883\u5909\u6570\u304b\u3089\u53d6\u3063\u3066\u304d\u305f\u30c8\u30fc\u30af\u30f3\u3001org(\u8981\u8abf\u67fb)\u3001URL\u3092\u5229\u7528\u3057\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\u3002</p> <pre><code>import influxdb_client, os, time\nfrom influxdb_client import InfluxDBClient, Point, WritePrecision\nfrom influxdb_client.client.write_api import SYNCHRONOUS\n\ntoken = os.environ.get(\"INFLUXDB_TOKEN\")\norg = \"kokshilab\"\nurl = \"http://[HOST]:[PORT]\"\n\nwrite_client = influxdb_client.InfluxDBClient(url=url, token=token, org=org)\n</code></pre>"},{"location":"app/influxdb/#write-api","title":"Write API","text":"<p>InfluxDB\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u3080\u3068\u304d\u306f<code>InfluxDBClient.write_api</code>\u3092\u4f7f\u3044\u307e\u3059\u3002\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u305d\u306e\u307e\u307e\u3060\u3068\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3067\u5909\u3048\u307e\u3059\u3002</p> <pre><code>bucket=\"sample-bucket\"\n\n# write_api = client.write_api(write_options=SYNCHRONOUS)\nwrite_api = write_client.write_api(write_options=SYNCHRONOUS)\n\nfor value in range(5):\n  point = (\n    Point(\"measurement1\")\n    .tag(\"tagname1\", \"tagvalue1\")\n    .field(\"field1\", value)\n  )\n  write_api.write(bucket=bucket, org=\"kokshilab\", record=point)\n  time.sleep(1) # separate points by 1 second\n</code></pre>"},{"location":"app/influxdb/#query-api","title":"Query API","text":"<p>\u30c7\u30fc\u30bf\u3092\u53d6\u308b\u3068\u304d\u306f<code>InfluxDBClient.query_api</code>\u3092\u5229\u7528\u3057\u307e\u3059\u3002Flux\u3092\u5229\u7528\u3057\u3066\u3044\u308d\u3044\u308d\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002</p> <pre><code># query_api = client.query_api()\nquery_api = write_client.query_api()\n\nquery = \"\"\"from(bucket: \"sample-bucket\")\n |&gt; range(start: -10m)\n |&gt; filter(fn: (r) =&gt; r._measurement == \"measurement1\")\"\"\"\ntables = query_api.query(query, org=\"kokshilab\")\n\nfor table in tables:\n  for record in table.records:\n    print(record)\n</code></pre>"},{"location":"app/misskey/","title":"Misskey","text":"<p>Created: 2023/07/27</p>"},{"location":"app/misskey/#_1","title":"\u6982\u8981","text":""},{"location":"app/misskey/#_2","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8","text":"<p>https://qiita.com/hihumikan/items/1f692f3bd5516820e0ec</p> <p>misskey.r2.kokshi.com\u3092\u53c2\u7167\u7528\u30c9\u30e1\u30a4\u30f3(Base URL)\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306bS3 API\u306b\u66f8\u3044\u3066\u3042\u308b\u306e\u3092\u6307\u5b9a\u3057\u305f\u3002\u53c2\u7167\u7528\u30c9\u30e1\u30a4\u30f3\u306fCustom Domain\u304b\u3089\u4f5c\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"app/misskey/#_3","title":"\u53c2\u8003","text":"<p>https://misskey-hub.net/docs/install/docker.html https://zenn.dev/okayurisotto/articles/d8f86088a6f02d#fn-6be5-1 https://hide.ac/articles/Y504SIabp https://zenn.dev/okayurisotto/articles/d85ad4602007bf</p>"},{"location":"app/misskey/#_4","title":"\u3064\u307e\u3063\u305f","text":"<ul> <li>\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u304c\u5c11\u306a\u3044(2GB?)\u3068\u7206\u767a\u3059\u308b</li> <li>\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u5c11\u306a\u3044(13GB)\u3068\u7206\u767a\u3059\u308b</li> </ul> <pre><code>    1  sudo reboot\n    2  git clone -b master https://github.com/misskey-dev/misskey.git\n    3  cd misskey/\n    4  ls\n    5  git checkout master\n    6  cp .config/docker_example.yml .config/default.yml\n    7  cp .config/docker_example.env .config/docker.env\n    8  cp ./docker-compose.yml.example ./docker-compose.yml\n    9  sudo docker compose build\n   10  ls\n   11  sudo docker compose build\n   12  sudo docker compose run --rm web pnpm run init\n   13  cd misskey/\n   14  sudo docker compose run --rm web pnpm run init\n   15  sudo docker compose up -d\n   16  curl localhost:3000\n   17  sudo docker ps\n   18  docker logs misskey-web-1\n   19  sudo docker logs misskey-web-1 --tail 30\n   20  sudo docker ps\n   21  sudo docker logs misskey-web-1 --tail 30\n   22  sudo docker compose down\n   23  sudo docker logs misskey-web-1 --tail 100\n   24  sudo docker ps\n   25  sudo docker compose build\n   26  sudo docker compose run --rm web pnpm run init\n   27  sudo docker compose up -d\n   28  sudo docker logs misskey-web-1 -f\n   29  sudo docker ps\n   30  curl localhost:3000\n   31  sudo docker ps\n   32  sudo docker logs misskey-web-1 -f\n   33  sudo docker logs misskey-web-1\n   34  curl localhost:3000\n   35  sudo docker logs misskey-web-1 -f\n   36  sudo docker logs misskey-web-1\n   37  hostname -I\n   38  curl localhost:3000\n   39  sudo docker logs misskey-web-1\n   40  curl localhost:3000\n   41  cd misskey/\n   42  sudo docker ps\n   43  sudo docker logs misskey-web-1\n   44  sudo docker logs misskey-web-1 -f\n   45  sudo docker ps\n   46  sudo docker logs misskey-web-1 -f\n   47  ls\n   48  cd misskey/\n   49  ls\n   50  history\n   51  code .\n   52  ls\n   53  htop\n   54  sudo docker ps\n   55  docker ps\n   56  sudo docker ps\n   57  sudo docker compose build\n   58  sudo docker compose run --rm web pnpm run init\n   59  sudo docker pull\n   60  sudo docker images\n   61  sudo docker pull misskey/misskey:latest\n   62  df\n   63  free\n   64  du\n   65  df -hT\n   66  history\n</code></pre>"},{"location":"app/misskey/#_5","title":"\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc","text":"<p>Cloudflare Email Routing\u3068Gmail\u306eSMTP\u30b5\u30fc\u30d0\u30fc\u3092\u5229\u7528\u3057\u305f\u3002\u591a\u5206\u3044\u3051\u306a\u3044\u3053\u3068\u3057\u3066\u308b\u3002</p> <p>Cloudflare\u3068Gmail\u3067misskey\u306e\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a - Qiita Cloudflare \u3068Gmail \u3067\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u306e\u30e1\u30fc\u30eb\u3092\u7121\u6599\u3067\u9001\u53d7\u4fe1\u3059\u308b\u65b9\u6cd5\u3010Cloudflare Email Routing\u3011 - Qiita</p>"},{"location":"app/pipenv/","title":"pipenv\u3092\u5229\u7528\u3057\u305fPython\u74b0\u5883\u69cb\u7bc9","text":"<p>Created: 2023/01/09</p>"},{"location":"app/pipenv/#_1","title":"\u6982\u8981","text":"<p>\u6b21\u306e\u72b6\u614b\u3092\u76ee\u6307\u3057\u307e\u3059\u3002</p> <ul> <li>vscode\u3067\u958b\u767a\u53ef\u80fd</li> <li>\u30d5\u30a9\u30eb\u30c0\u5185\u306b\u4eee\u60f3\u74b0\u5883\u3092\u6301\u3064<ul> <li>\u30e9\u30a4\u30d6\u30e9\u30ea\u7b49\u3082\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u306b\u4f9d\u5b58\u3059\u308b</li> </ul> </li> </ul>"},{"location":"app/pipenv/#_2","title":"\u74b0\u5883","text":"<ul> <li>Windows11</li> <li>VSCode</li> <li>pipenv</li> </ul>"},{"location":"app/pipenv/#_3","title":"\u53c2\u8003","text":"<ul> <li>Pipenv\u3092\u4f7f\u3063\u305fPython\u958b\u767a\u307e\u3068\u3081</li> <li>\u3010\u56f3\u89e3\u3011\u4f5c\u696d\u304c\u500d\u901f\uff01pipenv\u306e\u4f7f\u3044\u65b9\u3010Python\u3011</li> <li>[Python] Pipenv\u3067\u4eee\u60f3\u74b0\u5883\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u4f5c\u308b\u65b9\u6cd5</li> </ul>"},{"location":"app/pipenv/#pipenv","title":"pipenv\u306e\u5c0e\u5165","text":"<pre><code>$ pip install pipenv\n</code></pre>"},{"location":"app/pipenv/#_4","title":"\u4eee\u60f3\u74b0\u5883\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u308b","text":"<p>\u74b0\u5883\u5909\u6570\u306b\u4e0b\u8a18\u3092\u8ffd\u52a0\u3059\u308b\u3002</p> \u5909\u6570 \u5024 PIPENV_VENV_IN_PROJECT true"},{"location":"app/pipenv/#_5","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u521d\u671f\u5316","text":"<p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068PC\u5185\u306b\u5165\u3063\u3066\u3044\u308bPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066pipenv\u306e\u4eee\u60f3\u74b0\u5883\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u306b\u4f5c\u6210\u3055\u308c\u308b\u3002</p> <pre><code>$ pipenv --python 3\n</code></pre> <pre><code>[Project Folder]\n\u2523 .venv/\n\u2503 \u2523 Lib/\n\u2503 \u2523 Scripts/\n\u2503 \u2523 .gitignore\n\u2503 \u2523 .project\n\u2503 \u2517 pyvenv.cfg\n\u2517 Pipfile\n</code></pre>"},{"location":"app/pipenv/#_6","title":"\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>$ pipenv install mkdocs\n</code></pre> <p>\u203b\u958b\u767a\u74b0\u5883\u306e\u307f\u306e\u5834\u5408\u306f\u3053\u3061\u3089</p> <pre><code>$ pipenv install --dev mkdocs\n</code></pre>"},{"location":"embedded/ubuntu_core/","title":"Ubuntu Core","text":"<p>Created: 2023/10/22</p>"},{"location":"embedded/ubuntu_core/#_1","title":"\u6982\u8981","text":"<p>Ubuntu Core\u306f\u6b21\u306e\u7279\u5fb4\u3092\u5099\u3048\u305f\u7d44\u307f\u8fbc\u307f\u6a5f\u5668\u60f3\u5b9a\u306eOS\u3067\u3059\u3002</p> <ul> <li>\u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u306aOS</li> <li>\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306e\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9</li> <li>snap\u3092\u4e2d\u5fc3\u306b\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7ba1\u7406</li> <li>\u81ea\u5f8b\u3067\u306e\u81ea\u52d5\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8</li> </ul> <p>\u597d\u304d\u306a\u3068\u3053\u308d</p> <ul> <li>\u30a4\u30df\u30e5\u30fc\u30bf\u30d6\u30eb\u306a\u3068\u3053\u308d</li> <li>snap\u3092\u3053\u306d\u304f\u308a\u56de\u305b\u3070Web\u304b\u3089\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u7b49\u3082\u5b9f\u73fe\u3067\u304d\u308b\u304b\u3082(snapd\u306b\u306fREST API\u304c\u3042\u308b)</li> </ul> <p>\u5acc\u3044\u306a\u3068\u3053\u308d</p> <ul> <li>Ubuntu SSO\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3001\u7ba1\u7406\u306b\u306f\u4fbf\u5229\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u4f1a\u793e\u3068\u304b\u3067\u4f7f\u3046\u3068\u304d\u9762\u5012<ul> <li>\u6709\u511f\u30b5\u30dd\u30fc\u30c8\u3042\u308a\u304d\u306a\u306e\u304b\u3082\u3057\u308c\u306a\u3044</li> <li>\u30d6\u30e9\u30f3\u30c9\u30a2\u30ab\u30a6\u30f3\u30c8\u7b49\u3082\u3042\u308b\u306e\u3067\u3046\u307e\u304f\u3084\u308c\u3070\u826f\u3055\u305d\u3046</li> </ul> </li> <li>\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306f\u57fa\u672c\u7684\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304f\u308b\u306e\u3067\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u3084\u308b\u306e\u304c\u5c11\u3057\u7169\u96d1\u306b\u306a\u308a\u305d\u3046</li> </ul> <p>\u30a4\u30e1\u30fc\u30b8\u3067\u306eA/B\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3068\u304b\u306f\u60f3\u5b9a\u3055\u308c\u3066\u306a\u3055\u305d\u3046\u30fb\u30fb\u30fb</p>"},{"location":"embedded/ubuntu_core/#_2","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Raspberry pi\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u516c\u5f0f\u306b\u3042\u308b\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u304b\u3089\u884c\u3044\u307e\u3059\u3002</p> <ul> <li>Install Ubuntu Core on a Raspberry Pi | Ubuntu</li> <li>Installing Ubuntu Core 20 on a Raspberry Pi | Ubuntu</li> </ul> <p>\u6c17\u3092\u3064\u3051\u308b\u70b9\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002</p> <ul> <li>Ubuntu SSO\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981<ul> <li>OS\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u5165\u529b\u3057\u307e\u3059</li> <li>Ubuntu SSO\u306b\u767b\u9332\u3059\u308bSSH\u516c\u958b\u9375\u3067Raspberry pi\u306b\u63a5\u7d9a\u3057\u307e\u3059</li> </ul> </li> </ul>"},{"location":"embedded/ubuntu_core/#_3","title":"\u30e1\u30e2","text":""},{"location":"embedded/ubuntu_core/#snap","title":"Snap\u4e00\u89a7","text":"<pre><code>$ snap list\nName       Version         Rev    Tracking       Publisher    Notes\ncore22     20230801        867    latest/stable  canonical**  base\npi         22-2            132    22/stable      canonical**  gadget\npi-kernel  5.15.0-1041.44  696    22/stable      canonical**  kernel\nsnapd      2.58            17954  latest/stable  canonical**  snapd\n</code></pre>"},{"location":"embedded/ubuntu_core/#model","title":"model","text":"<p>\u30c7\u30d0\u30a4\u30b9\u306e\u7ba1\u7406\u3082Ubuntu SSO\u306b\u7d10\u4ed8\u3051\u3089\u308c\u308b\u306e\u304b\u3082\uff1f</p> <pre><code>$ snap model\nbrand   Canonical**\nmodel   ubuntu-core-22-pi-arm64\ngrade   signed\nserial  3cd93c4d-943f-4ec4-a3b3-9b4692140386\n</code></pre>"},{"location":"embedded/ubuntu_core/#apt","title":"apt","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u3002</p> <pre><code>$ apt\n-bash: apt: command not found\n</code></pre>"},{"location":"embedded/ubuntu_core/#docker","title":"docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u308b\u3002\u4e00\u65e6snap refresh\u304c\u5fc5\u8981\u3060\u3063\u305f\u3002</p> <pre><code>$ snap install  docker\nerror: cannot install \"docker\": snap \"docker\" assumes unsupported features: snapd2.59.1 (try to refresh snapd)\n$ snap refresh\n2023-10-21T04:15:41Z INFO Waiting for automatic snapd restart...\nsnapd 2.60.4 from Canonical** refreshed\n$ snap install  docker\ndocker 20.10.24 from Canonical** installed\n$ snap list\nName       Version         Rev    Tracking       Publisher    Notes\ncore22     20230801        867    latest/stable  canonical**  base\ndocker     20.10.24        2907   latest/stable  canonical**  -\npi         22-2            132    22/stable      canonical**  gadget\npi-kernel  5.15.0-1041.44  696    22/stable      canonical**  kernel\nsnapd      2.60.4          20298  latest/stable  canonical**  snapd\n$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\n70f5ac315c5a: Pull complete\nDigest: sha256:88ec0acaa3ec199d3b7eaf73588f4518c25f9d34f58ce9a0df68429c5af48e8d\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n    (arm64v8)\n3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n</code></pre> <p>snap\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u6a29\u9650\u306f\u5fc5\u8981\u7121\u304b\u3063\u305f\u304c\u3001docker\u306e\u5b9f\u884c\u306fsudo\u304c\u5fc5\u8981\u3060\u3063\u305f\u3002</p> <pre><code>$ sudo docker version\nClient:\n Version:           20.10.24\n API version:       1.41\n Go version:        go1.20.7\n Git commit:        297e128\n Built:             Wed Aug 23 21:07:16 2023\nOS/Arch:           linux/arm64\n Context:           default\n Experimental:      true\n\nServer:\n Engine:\n  Version:          20.10.24\n  API version:      1.41 (minimum version 1.12)\nGo version:       go1.20.7\n  Git commit:       5d6db84\n  Built:            Wed Aug 23 21:09:40 2023\nOS/Arch:          linux/arm64\n  Experimental:     false\ncontainerd:\n  Version:          v1.6.20\n  GitCommit:        2806fc1057397dbaeefbea0e4e17bddfbd388f38\n runc:\n  Version:          1.1.5\n  GitCommit:\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n</code></pre>"},{"location":"embedded/ubuntu_core/#connection","title":"connection","text":"<p>i2c\u3068\u304b\u3082\u3042\u308b\u3001snap\u3067\u62e1\u5f35\u3067\u304d\u305d\u3046\u3002</p> <pre><code>$ snap connections --all\nInterface         Plug                     Slot                                 Notes\ncontent           -                        docker:docker-executables            -\ncontent           -                        docker:docker-registry-certificates  -\ncontent           docker:graphics-core22   -                                    -\ndocker            docker:docker-cli        docker:docker-daemon                 -\ndocker-support    docker:privileged        :docker-support                      -\ndocker-support    docker:support           :docker-support                      -\nfirewall-control  docker:firewall-control  :firewall-control                    -\ngpio              -                        pi:bcm-gpio-0                        -\ngpio              -                        pi:bcm-gpio-1                        -\ngpio              -                        pi:bcm-gpio-10                       -\ngpio              -                        pi:bcm-gpio-11                       -\ngpio              -                        pi:bcm-gpio-12                       -\ngpio              -                        pi:bcm-gpio-13                       -\ngpio              -                        pi:bcm-gpio-14                       -\ngpio              -                        pi:bcm-gpio-15                       -\ngpio              -                        pi:bcm-gpio-16                       -\ngpio              -                        pi:bcm-gpio-17                       -\ngpio              -                        pi:bcm-gpio-18                       -\ngpio              -                        pi:bcm-gpio-19                       -\ngpio              -                        pi:bcm-gpio-2                        -\ngpio              -                        pi:bcm-gpio-20                       -\ngpio              -                        pi:bcm-gpio-21                       -\ngpio              -                        pi:bcm-gpio-22                       -\ngpio              -                        pi:bcm-gpio-23                       -\ngpio              -                        pi:bcm-gpio-24                       -\ngpio              -                        pi:bcm-gpio-25                       -\ngpio              -                        pi:bcm-gpio-26                       -\ngpio              -                        pi:bcm-gpio-27                       -\ngpio              -                        pi:bcm-gpio-3                        -\ngpio              -                        pi:bcm-gpio-4                        -\ngpio              -                        pi:bcm-gpio-5                        -\ngpio              -                        pi:bcm-gpio-6                        -\ngpio              -                        pi:bcm-gpio-7                        -\ngpio              -                        pi:bcm-gpio-8                        -\ngpio              -                        pi:bcm-gpio-9                        -\nhome              docker:home              :home                                -\ni2c               -                        pi:i2c-0                             -\ni2c               -                        pi:i2c-1                             -\ni2c               -                        pi:i2c-2                             -\ni2c               -                        pi:i2c-3                             -\ni2c               -                        pi:i2c-4                             -\ni2c               -                        pi:i2c-5                             -\ni2c               -                        pi:i2c-6                             -\nlog-observe       docker:log-observe       -                                    -\nnetwork           docker:network           :network                             -\nnetwork-bind      docker:network-bind      :network-bind                        -\nnetwork-control   docker:network-control   :network-control                     -\nopengl            docker:opengl            :opengl                              -\npwm               -                        pi:pwm0                              -\npwm               -                        pi:pwm1                              -\nremovable-media   docker:removable-media   -                                    -\nserial-port       -                        pi:bt-serial                         -\nserial-port       -                        pi:serial0                           -\nserial-port       -                        pi:serial1                           -\nserial-port       -                        pi:serial2                           -\nserial-port       -                        pi:serial3                           -\nserial-port       -                        pi:serial4                           -\nserial-port       -                        pi:serial5                           -\nserial-port       -                        pi:serial6                           -\nserial-port       -                        pi:serial7                           -\nserial-port       -                        pi:serial8                           -\nserial-port       -                        pi:serial9                           -\nspi               -                        pi:spidev0                           -\nspi               -                        pi:spidev1                           -\nspi               -                        pi:spidev1-0                         -\nspi               -                        pi:spidev1-1                         -\nspi               -                        pi:spidev2-0                         -\nspi               -                        pi:spidev2-1                         -\nspi               -                        pi:spidev3-0                         -\nspi               -                        pi:spidev3-1                         -\nspi               -                        pi:spidev4-0                         -\nspi               -                        pi:spidev4-1                         -\nspi               -                        pi:spidev5-0                         -\nspi               -                        pi:spidev5-1                         -\nspi               -                        pi:spidev6-0                         -\nspi               -                        pi:spidev6-1                         -\n</code></pre>"},{"location":"embedded/ubuntu_core/#_4","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020","text":"<pre><code>$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\ntmpfs           453M     0  453M   0% /dev/shm\ntmpfs           182M  6.4M  175M   4% /run\ntmpfs           5.0M     0  5.0M   0% /run/lock\n/dev/mmcblk0p2  739M  2.5K  739M   1% /run/mnt/ubuntu-boot\n/dev/mmcblk0p1  1.2G  340M  842M  29% /var/lib/snapd/seed\n/dev/mmcblk0p4   57G  537M   53G   1% /writable\n/dev/mmcblk0p3   26M   49K   23M   1% /var/lib/snapd/save\ntmpfs           453M     0  453M   0% /media\ntmpfs           453M     0  453M   0% /mnt\ntmpfs           453M     0  453M   0% /tmp\ntmpfs           453M     0  453M   0% /var/lib/sudo\ntmpfs            91M     0   91M   0% /run/user/1000\n</code></pre>"},{"location":"embedded/ubuntu_core/#_5","title":"\u30b5\u30fc\u30d3\u30b9","text":"<pre><code>$ snap services docker\nService                          Startup  Current   Notes\ndocker.dockerd                   enabled  active    -\ndocker.nvidia-container-toolkit  enabled  inactive  -\n$ snap info docker\nname:      docker\nsummary:   Docker container runtime\npublisher: Canonical**\nstore-url: https://snapcraft.io/docker\ncontact:   https://github.com/docker-snap/docker-snap/issues?q=\nlicense:   (Apache-2.0 AND MIT AND GPL-2.0)\ndescription: |\nBuild and run container images with Docker.\n\n  **Usage**\n\n  * This build can only access files in the home directory. So Dockerfiles and all other files used\n  in commands like `docker build`, `docker save` and `docker load` need to be in $HOME.\n  * You can change the configuration of this build by modifying the files in\n`/var/snap/docker/current/`.\n  * Additional certificates used by the Docker daemon to authenticate with registries need to be\n  added in `/var/snap/docker/current/etc/docker/certs.d` (instead of `/etc/docker/certs.d`). This\n  directory can be accessed by other snaps using the `docker-registry-certificates` content\n  interface.\n\n  **Running Docker as normal user**\n\n  By default, Docker is only accessible with root privileges (`sudo`). If you want to use docker as\n  a regular user, you need to add your user to the `docker` group.\n\n      sudo addgroup --system docker\n      sudo adduser $USER docker\n      newgrp docker\n      sudo snap disable docker\n      sudo snap enable docker\n\n  **Warning:** if you add your user to the `docker` group, it will have similar power as the `root`\nuser. For details on how this impacts security in your system, see\n  https://docs.docker.com/engine/security/#docker-daemon-attack-surface\n\n  **Authors**\n\n  This snap is built by Canonical based on source code published by Docker, Inc. It is not endorsed\n  or published by Docker, Inc.\n\n  Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United\n  States and/or other countries. Docker, Inc. and other parties may also have trademark rights in\nother terms used herein.\ncommands:\n  - docker.compose\n  - docker\n  - docker.help\nservices:\n  docker.dockerd:                  simple, enabled, active\n  docker.nvidia-container-toolkit: oneshot, enabled, inactive\nsnap-id:      sLCsFAO8PKM5Z0fAKNszUOX0YASjQfeZ\ntracking:     latest/stable\nrefresh-date: yesterday at 04:17 UTC\nchannels:\n  latest/stable:    20.10.24 2023-05-25 (2895) 109MB -\n  latest/candidate: 20.10.24 2023-09-29 (2907) 109MB -\n  latest/beta:      20.10.24 2023-10-02 (2913) 109MB -\n  latest/edge:      24.0.5   2023-10-07 (2918) 109MB -\n  core18/stable:    20.10.17 2023-03-13 (2750) 119MB -\n  core18/candidate: ^\n  core18/beta:      ^\n  core18/edge:      ^\ninstalled:          20.10.24            (2907) 109MB -\n</code></pre>"},{"location":"embedded/ubuntu_core/#_6","title":"\u305d\u306e\u4ed6","text":"<p>Snap(Snappy) \u30b3\u30de\u30f3\u30c9\u306e\u4f7f\u3044\u65b9 | Linux Magazine</p> <ul> <li>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3082\u3068\u308c\u308b\u3089\u3057\u3044</li> </ul>"},{"location":"embedded/yocto-swupdate-rpi/","title":"Yocto + SWUpdate + RaspberryPi3","text":"<p>Created: 2023/10/26</p>"},{"location":"embedded/yocto-swupdate-rpi/#_1","title":"\u6982\u8981","text":"<p>SWUpdate\u3092RaspberryPi3\u3067\u8a66\u3059\u3002</p>"},{"location":"embedded/yocto-swupdate-rpi/#raspberry-pi3","title":"Raspberry Pi3\u3067\u8a66\u3059","text":"<p>\u6b21\u306e\u624b\u9806\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057SD\u30ab\u30fc\u30c9\u306b\u66f8\u304d\u8fbc\u3093\u3067\u8d77\u52d5\u3092\u78ba\u304b\u3081\u307e\u3059\u3002</p> <ol> <li>\u958b\u767a\u7528\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210</li> <li>\u5404\u30ec\u30a4\u30e4\u306e\u53d6\u5f97</li> <li>\u30d3\u30eb\u30c9</li> <li>\u66f8\u304d\u8fbc\u307f</li> </ol>"},{"location":"embedded/yocto-swupdate-rpi/#_2","title":"\u30d3\u30eb\u30c9\u74b0\u5883","text":"<ul> <li>Windows 11 + WSL + Docker</li> </ul>"},{"location":"embedded/yocto-swupdate-rpi/#_3","title":"\u30bf\u30fc\u30b2\u30c3\u30c8","text":"<ul> <li>Raspberry Pi3</li> <li>Yocto 4.0 (kirkstone)</li> </ul>"},{"location":"embedded/yocto-swupdate-rpi/#poky","title":"Poky\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code>$ mkdir rpi-kirkstone\n$ cd rpi-kirkstone/\n$ git clone -b kirkstone git://git.yoctoproject.org/poky.git\n$ docker run --rm  -it  -v $(pwd):/workdir crops/poky --workdir=/workdir\n</code></pre> <p>\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30b7\u30a7\u30eb\u3067\u4f5c\u696d\u3059\u308b\u3002\u95a2\u9023\u30b3\u30de\u30f3\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002</p> <pre><code>pokyuser@4c5ad0c1bea7:/workdir$ source poky/oe-init-build-env\n</code></pre> <p>\u3053\u3053\u307e\u3067\u3084\u308b\u3068build\u306bconf\u306a\u3069\u304c\u751f\u6210\u3055\u308c\u308b</p> <pre><code>rpi-mickledore/\n\u2523 build/\n\u2503 \u2517 conf/\n\u2503   \u2523 bblayers.conf\n\u2503   \u2523 conf-notes.txt\n\u2503   \u2523 local.conf\n\u2503   \u2517 templateconf.cfg\n\u2517 poky/\n</code></pre>"},{"location":"embedded/yocto-swupdate-rpi/#meta-raspberrypi","title":"meta-raspberrypi\u306e\u53d6\u5f97","text":"<p><code>bitbake-layers layerindex-fetch</code>\u3092\u5229\u7528\u3057\u3066meta-raspberrypi\u3092Poky\u5185\u306b\u914d\u7f6e\u3059\u308b\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake-layers layerindex-fetch meta-raspberrypi\npokyuser@8f2fb8eb82ec:/workdir/build$ bitbake-layers show-layers\nNOTE: Starting bitbake server...\nlayer                 path                                                                    priority\n========================================================================================================\ncore                  /workdir/poky/meta                                                      5\nyocto                 /workdir/poky/meta-poky                                                 5\nyoctobsp              /workdir/poky/meta-yocto-bsp                                            5\nraspberrypi           /workdir/poky/meta-raspberrypi                                          9\n</code></pre>"},{"location":"embedded/yocto-swupdate-rpi/#meta-swupdate-boards","title":"meta-swupdate-boards\u306e\u53d6\u5f97","text":"<p><code>bitbake-layers layerindex-fetch</code>\u3092\u5229\u7528\u3057\u3066meta-raspberrypi\u3092Poky\u5185\u306b\u914d\u7f6e\u3059\u308b\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake-layers layerindex-fetch meta-swupdate-boards\n</code></pre> <p>TODO: \u3061\u3083\u3093\u3068\u8a66\u3059</p>"},{"location":"embedded/yocto-swupdate-rpi/#localconf","title":"local.conf\u3092\u7de8\u96c6","text":"<p><code>conf/local.conf</code>\u3092VSCode\u3067\u7de8\u96c6</p> <p><code>RPI_USE_U_BOOT = \"1\"</code> \u3092\u8ffd\u52a0\u3059\u308b\u3002</p> <pre><code># (\u4e2d\u7565) ...\nMACHINE = \"raspberrypi3-64\"\nDL_DIR = \"${TOPDIR}/../downloads\"\n\n# enable uart\nENABLE_UART = \"1\"\n\n# systemd\nDISTRO_FEATURES:append = \" systemd\"\nVIRTUAL-RUNTIME_init_manager = \"systemd\"\nDISTRO_FEATURES_BACKFILL_CONSIDERED = \"sysvinit\"\nVIRTUAL-RUNTIME_initscripts = \"\"\n\n# Accept for the synaptics license\nLICENSE_FLAGS_ACCEPTED = \"synaptics-killswitch\"\n\nRPI_USE_U_BOOT = \"1\"\n</code></pre>"},{"location":"embedded/yocto-swupdate-rpi/#_4","title":"\u30d3\u30eb\u30c9","text":"<pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake update-image\n</code></pre>"},{"location":"embedded/yocto-swupdate-rpi/#_5","title":"\u30a8\u30e9\u30fc","text":"<pre><code>pokyuser@1f6da7dfe01b:/workdir/build$ bitbake update-image\nLoading cache: 100% |####################################################################################| Time: 0:00:00\nLoaded 2838 entries from dependency cache.\nNOTE: Resolving any missing task queue dependencies\n\nBuild Configuration:\nBB_VERSION           = \"2.0.0\"\nBUILD_SYS            = \"x86_64-linux\"\nNATIVELSBSTRING      = \"universal\"\nTARGET_SYS           = \"aarch64-poky-linux\"\nMACHINE              = \"raspberrypi3-64\"\nDISTRO               = \"poky\"\nDISTRO_VERSION       = \"4.0.13\"\nTUNE_FEATURES        = \"aarch64 armv8a crc cortexa53\"\nTARGET_FPU           = \"\"\nmeta\nmeta-poky\nmeta-yocto-bsp       = \"kirkstone:59077aa77b17ca6fdcc4e66d9d8b0c18dc89ecce\"\nmeta-raspberrypi     = \"kirkstone:59a6a1b5dd1e21189adec49c61eae04ed3e70338\"\nmeta-oe              = \"kirkstone:79a6f60dabad9e5b0e041efa91379447ef030482\"\nmeta-swupdate        = \"kirkstone:07c67969137e90e98385aadfb4ef8572a66a0bb5\"\nmeta-swupdate-boards = \"kirkstone:965bcd8da5ad2174bd2ac05811580e44bbb0e036\"\n\nInitialising tasks: 100% |###############################################################################| Time: 0:00:03\nSstate summary: Wanted 907 Local 0 Mirrors 0 Missed 907 Current 728 (0% match, 44% complete)\nRemoving 479 stale sstate objects for arch cortexa53: 100% |#############################################| Time: 0:00:01\nRemoving 178 stale sstate objects for arch raspberrypi3_64: 100% |#######################################| Time: 0:00:02\nRemoving 28 stale sstate objects for arch allarch: 100% |################################################| Time: 0:00:00\nRemoving 46 stale sstate objects for arch x86_64: 100% |#################################################| Time: 0:00:00\nNOTE: Executing Tasks\nERROR: update-image-1.0-r0 do_swuimage: swupdate cannot find image file: /workdir/build/tmp/deploy/images/raspberrypi3-64/core-image-full-cmdline.ext4.gz\nERROR: Logfile of failure stored in: /workdir/build/tmp/work/raspberrypi3_64-poky-linux/update-image/1.0-r0/temp/log.do_swuimage.27618\nERROR: Task (/workdir/poky/meta-swupdate-boards/recipes-extended/images/update-image.bb:do_swuimage) failed with exit code '1'\nNOTE: Tasks Summary: Attempted 4143 tasks of which 2358 didn't need to be rerun and 1 failed.\n\nSummary: 1 task failed:\n  /workdir/poky/meta-swupdate-boards/recipes-extended/images/update-image.bb:do_swuimage\nSummary: There was 1 ERROR message, returning a non-zero exit code.\npokyuser@1f6da7dfe01b:/workdir/build$\n</code></pre>"},{"location":"embedded/yocto-swupdate-rpi/#_6","title":"\u66f8\u304d\u8fbc\u307f","text":"<p>bmaptools\u3067\u66f8\u304d\u8fbc\u3080\u306e\u304c\u826f\u3044\u304c\u3001Windows\u74b0\u5883\u3060\u3068\u4e0d\u81ea\u7531\u306a\u306e\u3067\u89e3\u51cd\u3057\u3066Raspberry pi Imager\u3092\u5229\u7528\u3057\u3066\u66f8\u304d\u8fbc\u3080\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ cd tmp/deploy/images/raspberrypi3-64/\npokyuser@8f2fb8eb82ec:/workdir/build/tmp/deploy/images/raspberrypi3-64$ cp core-image-base-raspberrypi3-64.wic.bz2 /workdir/\npokyuser@8f2fb8eb82ec:/workdir/build/tmp/deploy/images/raspberrypi3-64$ cd /workdir/\npokyuser@8f2fb8eb82ec:/workdir$ bunzip2 core-image-base-raspberrypi3-64.wic.bz2\n</code></pre> <p>Windows\u5074\u306b<code>core-image-base-raspberrypi3-64.wic</code>\u3092\u79fb\u52d5\u3055\u305b\u3001\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u66f8\u304d\u8fbc\u3080\u3002</p>"},{"location":"embedded/yocto-swupdate-rpi/#_7","title":"\u7d50\u679c","text":"<pre><code>root@raspberrypi3-64:~# cat /etc/os-release\nID=poky\nNAME=\"Poky (Yocto Project Reference Distro)\"\nVERSION=\"4.2.3 (mickledore)\"\nVERSION_ID=4.2.3\nVERSION_CODENAME=\"mickledore\"\nPRETTY_NAME=\"Poky (Yocto Project Reference Distro) 4.2.3 (mickledore)\"\nroot@raspberrypi3-64:~#\n</code></pre>"},{"location":"embedded/yocto/","title":"Yocto","text":"<p>Created: 2023/10/22</p>"},{"location":"embedded/yocto/#_1","title":"\u6982\u8981","text":"<p>Yocto\u306f\u7d44\u307f\u8fbc\u307f\u5411\u3051Linux\u306e\u4e00\u7a2e\u3067\u3059\u3002</p>"},{"location":"embedded/yocto/#raspberry-pi3","title":"Raspberry Pi3\u3067\u8a66\u3059","text":"<p>\u6b21\u306e\u624b\u9806\u3067\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057SD\u30ab\u30fc\u30c9\u306b\u66f8\u304d\u8fbc\u3093\u3067\u8d77\u52d5\u3092\u78ba\u304b\u3081\u307e\u3059\u3002</p> <ol> <li>\u958b\u767a\u7528\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210</li> <li>meta-raspberrypi\u30ec\u30a4\u30e4\u306e\u53d6\u5f97</li> <li>\u30d3\u30eb\u30c9</li> <li>\u66f8\u304d\u8fbc\u307f</li> </ol>"},{"location":"embedded/yocto/#_2","title":"\u30d3\u30eb\u30c9\u74b0\u5883","text":"<ul> <li>Windows 11 + WSL + Docker</li> </ul>"},{"location":"embedded/yocto/#_3","title":"\u30bf\u30fc\u30b2\u30c3\u30c8","text":"<ul> <li>Raspberry Pi3</li> <li>Yocto 4.2 (mickledore)</li> </ul>"},{"location":"embedded/yocto/#poky","title":"Poky\u74b0\u5883\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":"<pre><code>$ mkdir rpi-mickledore\n$ cd rpi-mickledore/\n$ git clone -b mickledore git://git.yoctoproject.org/poky.git\n$ docker run --rm  -it  -v $(pwd):/workdir crops/poky --workdir=/workdir\n</code></pre> <p>\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30b7\u30a7\u30eb\u3067\u4f5c\u696d\u3059\u308b\u3002\u95a2\u9023\u30b3\u30de\u30f3\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002</p> <pre><code>pokyuser@4c5ad0c1bea7:/workdir$ source poky/oe-init-build-env\n</code></pre> <p>\u3053\u3053\u307e\u3067\u3084\u308b\u3068build\u306bconf\u306a\u3069\u304c\u751f\u6210\u3055\u308c\u308b</p> <pre><code>rpi-mickledore/\n\u2523 build/\n\u2503 \u2517 conf/\n\u2503   \u2523 bblayers.conf\n\u2503   \u2523 conf-notes.txt\n\u2503   \u2523 local.conf\n\u2503   \u2517 templateconf.cfg\n\u2517 poky/\n</code></pre>"},{"location":"embedded/yocto/#_4","title":"\u53c2\u8003","text":"<ul> <li>https://github.com/crops/docker-win-mac-docs/wiki</li> <li>YoctoProject 4.2(mickledore)\u3092\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3067\u8a66\u3059 - \u307f\u3064\u304d\u3093\u306e\u30e1\u30e2</li> </ul>"},{"location":"embedded/yocto/#meta-raspberrypi","title":"meta-raspberrypi\u306e\u53d6\u5f97","text":"<p><code>bitbake-layers layerindex-fetch</code>\u3092\u5229\u7528\u3057\u3066meta-raspberrypi\u3092Poky\u5185\u306b\u914d\u7f6e\u3059\u308b\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake-layers layerindex-fetch meta-raspberrypi\npokyuser@8f2fb8eb82ec:/workdir/build$ bitbake-layers show-layers\nNOTE: Starting bitbake server...\nlayer                 path                                                                    priority\n========================================================================================================\ncore                  /workdir/poky/meta                                                      5\nyocto                 /workdir/poky/meta-poky                                                 5\nyoctobsp              /workdir/poky/meta-yocto-bsp                                            5\nraspberrypi           /workdir/poky/meta-raspberrypi                                          9\n</code></pre>"},{"location":"embedded/yocto/#localconf","title":"local.conf\u3092\u7de8\u96c6","text":"<p><code>conf/local.conf</code>\u3092VSCode\u3067\u7de8\u96c6</p> <pre><code># (\u4e2d\u7565) ...\nMACHINE = \"raspberrypi3-64\"\nDL_DIR = \"${TOPDIR}/../downloads\"\n\n# enable uart\nENABLE_UART = \"1\"\n\n# systemd\nDISTRO_FEATURES:append = \" systemd\"\nVIRTUAL-RUNTIME_init_manager = \"systemd\"\nDISTRO_FEATURES_BACKFILL_CONSIDERED = \"sysvinit\"\nVIRTUAL-RUNTIME_initscripts = \"\"\n\n# Accept for the synaptics license\nLICENSE_FLAGS_ACCEPTED = \"synaptics-killswitch\"\n</code></pre>"},{"location":"embedded/yocto/#_5","title":"\u30d3\u30eb\u30c9","text":"<pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake core-image-base\n</code></pre>"},{"location":"embedded/yocto/#linux-raspberrypi-do_fetch-failed-to-fetch","title":"\u30a8\u30e9\u30fc: linux-raspberrypi-...do_fetch: Failed to fetch","text":"<p>\u5185\u90e8\u3067\u5b9f\u884c\u3055\u308c\u308bGit clone\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3063\u305f\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ bitbake core-image-base\nLoading cache: 100% |                                                                                   | ETA:  --:--:--\nLoaded 0 entries from dependency cache.\nParsing recipes: 100% |##################################################################################| Time: 0:00:21\nParsing of 938 .bb files complete (0 cached, 938 parsed). 1839 targets, 75 skipped, 0 masked, 0 errors.\nNOTE: Resolving any missing task queue dependencies\n\nBuild Configuration:\nBB_VERSION           = \"2.4.0\"\nBUILD_SYS            = \"x86_64-linux\"\nNATIVELSBSTRING      = \"universal\"\nTARGET_SYS           = \"aarch64-poky-linux\"\nMACHINE              = \"raspberrypi3-64\"\nDISTRO               = \"poky\"\nDISTRO_VERSION       = \"4.2.3\"\nTUNE_FEATURES        = \"aarch64 armv8a crc cortexa53\"\nTARGET_FPU           = \"\"\nmeta\nmeta-poky\nmeta-yocto-bsp       = \"mickledore:87dc91ac724997ae4494a5247e94b9aad10cce1a\"\nmeta-raspberrypi     = \"mickledore:aa0aed9a08d6578a18c4eeb3b44ed8354a57ebee\"\n\nInitialising tasks: 100% |###############################################################################| Time: 0:00:03\nSstate summary: Wanted 1378 Local 0 Mirrors 0 Missed 1378 Current 298 (0% match, 17% complete)\nNOTE: Executing Tasks\nWARNING: linux-raspberrypi-1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0 do_fetch: Failed to fetch URL git://github.com/raspberrypi/linux.git;name=machine;branch=rpi-6.1.y;protocol=https, attempting MIRRORS if available\nERROR: linux-raspberrypi-1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0 do_fetch: Fetcher failure: Fetch command export PSEUDO_DISABLED=1; export SSL_CERT_FILE=\"/opt/poky/4.1/sysroots/x86_64-pokysdk-linux/etc/ssl/certs/ca-certificates.crt\"; export GIT_SSL_CAINFO=\"/opt/poky/4.1/sysroots/x86_64-pokysdk-linux/etc/ssl/certs/ca-certificates.crt\"; export PATH=\"/workdir/build/tmp/sysroots-uninative/x86_64-linux/usr/bin:/workdir/poky/scripts:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot-native/usr/bin/aarch64-poky-linux:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot/usr/bin/crossscripts:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot-native/usr/sbin:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot-native/usr/bin:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot-native/sbin:/workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/recipe-sysroot-native/bin:/workdir/poky/bitbake/bin:/workdir/build/tmp/hosttools\"; export HOME=\"/home/pokyuser\"; LANG=C git -c gc.autoDetach=false -c core.pager=cat clone --bare --mirror https://github.com/raspberrypi/linux.git /workdir/build/../downloads/git2/github.com.raspberrypi.linux.git --progress failed with exit code 128, no output\nERROR: linux-raspberrypi-1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0 do_fetch: Bitbake Fetcher Error: FetchError('Unable to fetch URL from any source.', 'git://github.com/raspberrypi/linux.git;name=machine;branch=rpi-6.1.y;protocol=https')\nERROR: Logfile of failure stored in: /workdir/build/tmp/work/raspberrypi3_64-poky-linux/linux-raspberrypi/1_6.1.20+gitAUTOINC+1a97a82e62_a1cd5351f4-r0/temp/log.do_fetch.9429\nERROR: Task (/workdir/poky/meta-raspberrypi/recipes-kernel/linux/linux-raspberrypi_6.1.bb:do_fetch) failed with exit code '1'\nNOTE: Tasks Summary: Attempted 957 tasks of which 541 didn't need to be rerun and 1 failed.\n\nSummary: 1 task failed:\n  /workdir/poky/meta-raspberrypi/recipes-kernel/linux/linux-raspberrypi_6.1.bb:do_fetch\nSummary: There was 1 WARNING message.\nSummary: There were 2 ERROR messages, returning a non-zero exit code.\n</code></pre> <p>git\u306eclone\u3067\u5931\u6557\u3057\u3066\u3044\u308b\u3088\u3046\u3060\u3063\u305f\u306e\u3067\u8a72\u5f53\u30b3\u30de\u30f3\u30c9\u3060\u3051\u624b\u52d5\u3067\u5b9f\u884c\u3057\u305f\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ git -c gc.autoDetach=false -c core.pager=cat clone --bare --mirror https://github.com/raspberrypi/linux.git /workdir/build/../downloads/git2/github.com.raspberrypi.linux.git\npokyuser@8f2fb8eb82ec:/workdir/build$ bitbake core-image-base\nLoading cache: 100% |####################################################################################| Time: 0:00:00Loaded 1839 entries from dependency cache.\nNOTE: Resolving any missing task queue dependencies\n\nBuild Configuration:\nBB_VERSION           = \"2.4.0\"\nBUILD_SYS            = \"x86_64-linux\"\nNATIVELSBSTRING      = \"universal\"\nTARGET_SYS           = \"aarch64-poky-linux\"\nMACHINE              = \"raspberrypi3-64\"\nDISTRO               = \"poky\"\nDISTRO_VERSION       = \"4.2.3\"\nTUNE_FEATURES        = \"aarch64 armv8a crc cortexa53\"\nTARGET_FPU           = \"\"\nmeta\nmeta-poky\nmeta-yocto-bsp       = \"mickledore:87dc91ac724997ae4494a5247e94b9aad10cce1a\"\nmeta-raspberrypi     = \"mickledore:aa0aed9a08d6578a18c4eeb3b44ed8354a57ebee\"\n\nInitialising tasks: 100% |###############################################################################| Time: 0:00:02Sstate summary: Wanted 1283 Local 0 Mirrors 0 Missed 1283 Current 393 (0% match, 23% complete)\nNOTE: Executing Tasks\nNOTE: Tasks Summary: Attempted 4190 tasks of which 1378 didn't need to be rerun and all succeeded.\n</code></pre>"},{"location":"embedded/yocto/#_6","title":"\u66f8\u304d\u8fbc\u307f","text":"<p>bmaptools\u3067\u66f8\u304d\u8fbc\u3080\u306e\u304c\u826f\u3044\u304c\u3001Windows\u74b0\u5883\u3060\u3068\u4e0d\u81ea\u7531\u306a\u306e\u3067\u89e3\u51cd\u3057\u3066Raspberry pi Imager\u3092\u5229\u7528\u3057\u3066\u66f8\u304d\u8fbc\u3080\u3002</p> <pre><code>pokyuser@8f2fb8eb82ec:/workdir/build$ cd tmp/deploy/images/raspberrypi3-64/\npokyuser@8f2fb8eb82ec:/workdir/build/tmp/deploy/images/raspberrypi3-64$ cp core-image-base-raspberrypi3-64.wic.bz2 /workdir/\npokyuser@8f2fb8eb82ec:/workdir/build/tmp/deploy/images/raspberrypi3-64$ cd /workdir/\npokyuser@8f2fb8eb82ec:/workdir$ bunzip2 core-image-base-raspberrypi3-64.wic.bz2\n</code></pre> <p>Windows\u5074\u306b<code>core-image-base-raspberrypi3-64.wic</code>\u3092\u79fb\u52d5\u3055\u305b\u3001\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u66f8\u304d\u8fbc\u3080\u3002</p>"},{"location":"embedded/yocto/#_7","title":"\u7d50\u679c","text":"<pre><code>root@raspberrypi3-64:~# cat /etc/os-release\nID=poky\nNAME=\"Poky (Yocto Project Reference Distro)\"\nVERSION=\"4.2.3 (mickledore)\"\nVERSION_ID=4.2.3\nVERSION_CODENAME=\"mickledore\"\nPRETTY_NAME=\"Poky (Yocto Project Reference Distro) 4.2.3 (mickledore)\"\nroot@raspberrypi3-64:~#\n</code></pre>"},{"location":"embedded/yocto/#_8","title":"\u8cc7\u6599","text":"<p>Yocto\u306e\u6982\u8981 #Linux - Qiita</p>"},{"location":"infra/esxi_cloudinit/","title":"cloud-init\u3092\u5229\u7528\u3057\u3066ESXi\u4e0a\u306bUbuntu Server\u3092\u69cb\u7bc9\u3059\u308b","text":""},{"location":"infra/esxi_cloudinit/#_1","title":"\u6982\u8981","text":"<p>Ubuntu Server\u304c\u597d\u304d\u306a\u306e\u3067ESXi\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u3002\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\u306b\u306a\u308b\u3079\u304f\u624b\u6570\u3092\u6e1b\u3089\u3057\u3001\u518d\u4f5c\u6210\u3092\u304b\u3093\u305f\u3093\u306b\u3059\u308b\u305f\u3081\u306b\u6b21\u306e\u65b9\u6cd5\u3092\u8a66\u3057\u307e\u3059\u3002</p> <ul> <li>OVA(Open Virtualization Format Archive, \u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u306e\u5171\u901a\u898f\u683c)\u306eUbuntu\u7248\u3092\u5229\u7528\u3057\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210</li> <li>cloud-init\u3092\u5229\u7528\u3057\u305fOS\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7</li> </ul> <p>\u53c2\u8003: cloud-init\u3068OVA\u30d5\u30a1\u30a4\u30eb\u3067ESXi\u4e0a\u306bUbuntu\u3092\u69cb\u7bc9\u3059\u308b - Qiita</p>"},{"location":"infra/esxi_cloudinit/#_2","title":"\u6280\u8853","text":""},{"location":"infra/esxi_cloudinit/#ova-open-virtualization-format-archive","title":"OVA (Open Virtualization Format Archive)","text":"<p>\u4eee\u60f3\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5171\u901a\u898f\u683c\u3068\u3057\u3066\u4f5c\u3089\u308c\u305f\u30aa\u30fc\u30d7\u30f3\u4eee\u60f3\u5316\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08Open Virtualization Format\u3001\u7565\u3057\u3066OVF\uff09\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3001\u5404\u7a2e\u30a4\u30e1\u30fc\u30b8(Xen, KVM, VMware)\u306a\u3069\u3092\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u307e\u3068\u3081\u305f\u3082\u306e\u304cOVA\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002(Wikipedia)  </p> <p>Ubuntu\u306fUbuntu Cloud Images\u3068\u3057\u3066Canonical\u304c\u914d\u5e03\u3057\u3066\u3044\u308b\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u304a\u308a\u3001\u4f8b\u3048\u3070\u3001Ubuntu Server 22.04 LTS\u306e\u30a4\u30e1\u30fc\u30b8\u306fUbuntu 22.04 LTS (Jammy Jellyfish) daily\u306b\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u306b\u306fOVA\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u3067\u306a\u304f\u3044\u308d\u3044\u308d\u306a\u7a2e\u985e\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002  </p> <p>\u3053\u306eUbuntu\u306eOVA\u30d5\u30a1\u30a4\u30eb\u306f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u3066\u304a\u3089\u305a\u3001cloud-init\u306a\u3069\u3092\u5229\u7528\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u7b49\u3067\u5229\u7528\u3059\u308b\u3068\u304d\u306b\u4f55\u3089\u304b\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u3055\u308c\u3066\u3044\u305f\u3089\u6016\u3044\u3067\u3059\u304b\u3089\u306d\u3002</p>"},{"location":"infra/esxi_cloudinit/#cloud-init","title":"cloud-init","text":"<p>cloud-init\u306fOS\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3046\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002cloud-init\u306f\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u53d7\u3051\u53d6\u308a\u3001\u305d\u306e\u5185\u5bb9\u306b\u5f93\u3044\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u30b3\u30f3\u30d5\u30a3\u30b0\u30d5\u30a1\u30a4\u30eb\u306f<code>meta-data</code>\u3001<code>user-data</code>\u3001<code>network-config</code>\u3001<code>vendor-data</code>\u306a\u3069\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>cloud-init documentation</p>"},{"location":"infra/esxi_cloudinit/#_3","title":"\u65b9\u6cd5","text":""},{"location":"infra/esxi_cloudinit/#_4","title":"\u30b3\u30f3\u30d5\u30a3\u30b0\u4f5c\u6210","text":"<p><code>meta-data</code>\u3001<code>user-data</code>\u3001<code>network-config</code>\u3001<code>vendor-data</code>\u306e\u3046\u3061\u5fc5\u9808\u3067\u3042\u308b<code>meta-data</code>\u3001<code>user-data</code>\u3068<code>network-config</code>\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code># meta-data\ninstance-id: vm-test\nlocal-hostname: vm-test\n</code></pre> <pre><code># user-data\nusers:\n  - name: kokshi\n    plain_text_passwd: password\n    lock_passwd: false\n    shell: /bin/bash\n</code></pre> <pre><code>version: 2\nethernets:\n  ens192:\n    dhcp4: false\n    addresses: [\"192.168.10.111/24\"]\n    gateway4: \"192.168.10.254\"\n    nameservers:\n      addresses:\n        - \"8.8.8.8\"\n</code></pre>"},{"location":"infra/esxi_cloudinit/#ova","title":"OVA\u30d5\u30a1\u30a4\u30eb","text":"<p>https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.ova</p>"},{"location":"infra/esxi_cloudinit/#iso","title":"ISO\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210","text":"<pre><code>$ genisoimage -output seed.iso \\\n  -volid \"cidata\" \\\n  -input-charset \"utf-8\" \\\n  -joliet -rock \\\n  user-data \\\n  meta-data \\\n  network-config\n</code></pre>"},{"location":"infra/esxi_optiplex/","title":"Vmware ESXi\u3092Optiplex 7050\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b","text":""},{"location":"infra/esxi_optiplex/#_1","title":"\u6982\u8981","text":"<p>\u6b21\u306e\u74b0\u5883\u3067ESXi\u3092\u7acb\u3061\u4e0a\u3052\u307e\u3059\u3002</p> <ul> <li>Optiplex 7050 \u30de\u30a4\u30af\u30ed\u30d5\u30a9\u30fc\u30e0\u30d5\u30a1\u30af\u30bf\u30fc(\u30e4\u30d5\u30aa\u30af\u3067\u8cfc\u5165)</li> <li>Crucial SSD P3 NVMe</li> </ul> <p>ESXi\u306f\u7121\u511f\u7248\u3092\u5229\u7528\u3057\u307e\u3059\u30021</p>"},{"location":"infra/esxi_optiplex/#_2","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306e\u4f5c\u6210","text":"<p>Info</p> <p>\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 \u306f\u3058\u3081\u3088\u3046\u3001\u304a\u3046\u3061\u30af\u30e9\u30a6\u30c9 - ESXi \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306e\u4f5c\u6210</p>"},{"location":"infra/esxi_optiplex/#esxi","title":"ESXi\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9","text":"<p>VMware vSphere Hypervisor 7.0 \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 \u30bb\u30f3\u30bf\u30fc\u304b\u3089\u5165\u624b\u3057\u307e\u3059\u3002VMware Customer Connect\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u767b\u9332\u3068\u3001\u8a55\u4fa1\u7248\u5229\u7528\u306e\u305f\u3081\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002</p> <p>Optiplex 7050\u306e\u30aa\u30f3\u30dc\u30fc\u30c9NIC\u306f\u304a\u305d\u3089\u304f\u6a19\u6e96\u306eISO\u30d5\u30a1\u30a4\u30eb(VMware vSphere Hypervisor (ESXi ISO) image)\u3067\u3082\u5927\u4e08\u592b\u3067\u3059\u3002\u4eca\u56de\u306fNVMe SSD\u304c\u30c9\u30e9\u30a4\u30d0\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067VMware vSphere Hypervisor (ESXi) Offline Bundle\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002</p> <p>\u4eca\u56de\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306f<code>7.0U3g</code>\u3067\u3059\u3002</p>"},{"location":"infra/esxi_optiplex/#_3","title":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30c9\u30e9\u30a4\u30d0\u306e\u5165\u624b","text":"<p>NVMe Driver\u306f\u9069\u7528\u304c\u5fc5\u8981\u3067\u3059\u3002\u4fdd\u967a\u3067Networking Driver\u3082\u5165\u308c\u3066\u304a\u304d\u307e\u3059\u3002</p> <ul> <li>Community NVMe Driver for ESXi<ul> <li>Version 1.2</li> </ul> </li> <li>Community Networking Driver for ESXi<ul> <li>version 1.2.7 </li> </ul> </li> </ul>"},{"location":"infra/esxi_optiplex/#_4","title":"\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210","text":"<p>ESXi\u672c\u4f53\u3068\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30c9\u30e9\u30a4\u30d0\u3092\u5408\u4f53\u3055\u305b\u3001\u30ab\u30b9\u30bf\u30e0\u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002PowerCLI Image Builder\u3068\u3044\u3046PowerShell\u7528\u306e\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"infra/esxi_optiplex/#powercli","title":"PowerCLI\u306e\u6e96\u5099","text":"<p>PowerCLI\u306fPowerShell\u3092\u7ba1\u7406\u8005\u3067\u8d77\u52d5\u3057\u305f\u3042\u3068\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\u307e\u3059\u3002</p> <pre><code>PS &gt; Install-Module -Name VMware.PowerCLI  \nPS &gt; Get-Module VMware.PowerCLI -ListAvailable\n    \u30c7\u30a3\u30ec\u30af\u30c8\u30ea: C:\\Program Files\\WindowsPowerShell\\Modules\nModuleType Version    Name                                ExportedCommands\n---------- -------    ----                                ----------------\nManifest   13.1.0.... VMware.PowerCLI\n</code></pre> <p>PowerCLI 13.0\u3067\u306f\u3001VMware.ImageBuilder\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306bPython3.7\u3068\u3044\u304f\u3064\u304b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>Info</p> <p>\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 Installing and Configuring Python for PowerCLI</p> <p>Python3.7\u3092Download Python | Python.org\u304b\u3089\u5165\u624b\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002Windows\u306e\u5834\u5408\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6b21\u306e\u5834\u6240\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <pre><code>%USERPROFILE%\\AppData\\Local\\Programs\\Python\\Python37\n</code></pre> <p>pip\u3092\u5229\u7528\u3057\u3066<code>six</code> <code>psutil</code> <code>lxml</code> <code>pyopenssl</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPython3.7\u306epip\u3092\u5229\u7528\u3057\u307e\u3059\u3002</p> <pre><code>PS &gt; C:\\Users\\[USERNAME]\\AppData\\Local\\Programs\\Python\\Python37\\Scripts\\pip.exe install six psutil lxml pyopenssl\n</code></pre> <p>PowerCLI\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fPython\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>PS &gt; Set-PowerCLIConfiguration -PythonPath C:\\Users\\[USERNAME]\\AppData\\Local\\Programs\\Python\\Python37\\python.exe -Scope User\n</code></pre> <p>\u8a2d\u5b9a\u5f8c\u306fPowerShel\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002</p>"},{"location":"infra/esxi_optiplex/#_5","title":"\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210","text":"<p>\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\u306f\u6b21\u306e\u3068\u304a\u308a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; dir\n\n\n    \u30c7\u30a3\u30ec\u30af\u30c8\u30ea: D:\\WORKS\\ESXi\\Installer\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----        2023/05/03     13:26         229802 Net-Community-Driver_1.2.7.0-1vmw.700.1.0.15843807_19480755.zip\n-a----        2023/05/03     13:27          98560 nvme-community-driver_1.0.1.0-3vmw.700.1.0.15843807-component-18902434.zip\n-a----        2023/05/03     13:26      381466339 VMware-ESXi-7.0U3g-20328353-depot.zip\n</code></pre>"},{"location":"infra/esxi_optiplex/#powershel","title":"PowerShel\u3067\u306e\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u3092\u5909\u66f4","text":"<pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; Get-ExecutionPolicy\nRestricted\nPS D:\\WORKS\\ESXi\\Installer&gt; Set-ExecutionPolicy RemoteSigned -Scope Process\n</code></pre>"},{"location":"infra/esxi_optiplex/#add-esxsoftwaredepot-esxi","title":"Add-EsxSoftwareDepot \u3067 ESXi \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30a4\u30e1\u30fc\u30b8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8","text":"<pre><code>Add-EsxSoftwareDepot -DepotUrl .\\VMware-ESXi-7.0U3g-20328353-depot.zip\nDepot Url\n---------\nzip:D:\\WORKS\\ESXi\\Installer\\VMware-ESXi-7.0U3g-20328353-depot.zip?index.xml\n</code></pre>"},{"location":"infra/esxi_optiplex/#_6","title":"\u30a4\u30e1\u30fc\u30b8\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u308a\u8fbc\u307f","text":"<p>-no-tools \u3067\u306f\u306a\u3044\u3082\u306e\u3001s \u3084 sc \u3067\u306a\u3044\u3082\u306e\u3092\u9078\u3073\u307e\u3059\u3002</p> <pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; Get-EsxImageProfile\n\nName                           Vendor          Last Modified   Acceptance Level\n----                           ------          -------------   ----------------\nESXi-7.0U3g-20328353-standard  VMware, Inc.    2022/09/01 0... PartnerSupported\nESXi-7.0U3g-20328353-no-tools  VMware, Inc.    2022/08/23 3... PartnerSupported\nPS D:\\WORKS\\ESXi\\Installer&gt; $ip = (Get-EsxImageProfile)[0]\nPS D:\\WORKS\\ESXi\\Installer&gt; echo $ip\n\nName                           Vendor          Last Modified   Acceptance Level\n----                           ------          -------------   ----------------\nESXi-7.0U3g-20328353-standard  VMware, Inc.    2022/09/01 0... PartnerSupported\n</code></pre>"},{"location":"infra/esxi_optiplex/#_7","title":"\u30c9\u30e9\u30a4\u30d0\u306e\u53d6\u308a\u8fbc\u307f\uff0f\u78ba\u8a8d","text":"<pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; Add-EsxSoftwareDepot -DepotUrl .\\Net-Community-Driver_1.2.7.0-1vmw.700.1.0.15843807_19480755.zip\nPS D:\\WORKS\\ESXi\\Installer&gt; Add-EsxSoftwareDepot -DepotUrl .\\nvme-community-driver_1.0.1.0-3vmw.700.1.0.15843807-component-18902434.zip\nPS D:\\WORKS\\ESXi\\Installer&gt; Get-EsxSoftwarePackage  | ? { $_.Name -like '*community' }\n\nName                     Version                        Vendor     Creation Date\n----                     -------                        ------     -------------\nnvme-community           1.0.1.0-3vmw.700.1.0.15843807  VMW        2020/01/08 12...\nnet-community            1.2.7.0-1vmw.700.1.0.15843807  VMW        2022/03/10 21...\n</code></pre>"},{"location":"infra/esxi_optiplex/#_8","title":"\u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210","text":"<pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; $ip2 = New-EsxImageProfile -CloneProfile $ip -Name Optiplex-7050MFF-7.0.u3g -Vendor kokshilab -AcceptanceLevel CommunitySupported\nPS D:\\WORKS\\ESXi\\Installer&gt; echo $ip2\n\nName                           Vendor          Last Modified   Acceptance Level\n----                           ------          -------------   ----------------\nOptiplex-7050MFF-7.0.u3g       kokshilab       2022/09/01 0... CommunitySupported\nPS D:\\WORKS\\ESXi\\Installer&gt; Add-EsxSoftwarePackage -ImageProfile $ip2 -SoftwarePackage nvme-community,net-community\n\nName                           Vendor          Last Modified   Acceptance Level\n----                           ------          -------------   ----------------\nOptiplex-7050MFF-7.0.u3g       kokshilab       2023/05/03 1... CommunitySupported\n</code></pre>"},{"location":"infra/esxi_optiplex/#zipiso","title":"\u30ab\u30b9\u30bf\u30e0\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092ZIP\u3068ISO\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","text":"<pre><code>PS D:\\WORKS\\ESXi\\Installer&gt; Export-EsxImageProfile -ImageProfile $ip2 ./Optiplex-7050MFF-7.0.u3g.zip -ExportToBundle\nPS D:\\WORKS\\ESXi\\Installer&gt; Export-EsxImageProfile -ImageProfile $ip2 ./Optiplex-7050MFF-7.0.u3g.iso -ExportToIso\n</code></pre>"},{"location":"infra/esxi_optiplex/#usb","title":"USB\u30e1\u30e2\u30ea\u306b\u5c55\u958b","text":"<p>Rufus\u3092\u5229\u7528\u3057\u3066USB\u30e1\u30e2\u30ea\u306b\u5c55\u958b\u3057\u307e\u3059\u3002</p>"},{"location":"infra/esxi_optiplex/#_9","title":"\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u30b5\u30a4\u30ba\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068120GB\u306e\u9818\u57df\u304c\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u3068\u3057\u3066\u78ba\u4fdd\u3055\u308c\u3066\u3057\u307e\u3046\u305d\u3046\u306a\u306e\u3067\u5909\u66f4\u3057\u307e\u3059\u3002</p> <p>\u6307\u5b9a\u65b9\u6cd5 : systemMediaSize= * min (33 GB, for single disk or embedded servers) * small (69 GB, for servers with at least 512 GB RAM) * default (138 GB) * max (consume all available space, for multi-terabyte servers)</p> <p>USB\u30e1\u30e2\u30ea\u306b\u30a4\u30e1\u30fc\u30b8\u3092\u5c55\u958b\u5f8c\u3001<code>boot.cfg</code>\u3092\u5909\u66f4\u3057\u307e\u3059\u3002</p> <pre><code>bootstate=0\ntitle=Loading ESXi installer\ntimeout=5\nprefix=\nkernel=/b.b00\nkernelopt=runweasel cdromBoot systemMediaSize=min # systemMediaSize=min \u3092\u8ffd\u52a0\nmodules=(\u4e2d\u7565)\nupdated=0\n</code></pre>"},{"location":"infra/esxi_optiplex/#_10","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Info</p> <p>\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002 \u306f\u3058\u3081\u3088\u3046\u3001\u304a\u3046\u3061\u30af\u30e9\u30a6\u30c9 - ESXi\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u57fa\u672c\u8a2d\u5b9a</p> <p>\u4e0a\u8a18\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u3053\u306e\u624b\u9806\u3060\u3051\u3060\u3068NVMe SSD\u304c\u8a8d\u8b58\u3055\u308c\u306a\u304b\u3063\u305f\u305f\u3081\u4e00\u90e8BIOS\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3057\u305f\u3002RAID\u30e2\u30fc\u30c9\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002</p> <p></p> <p>\u57fa\u672c\u7684\u306b\u306f\u624b\u9806\u306b\u6cbf\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308a\u3001\u518d\u8d77\u52d5\u5f8c\u306b\u56fa\u5b9aIP\u306e\u8a2d\u5b9a\u3092\u6295\u5165\u3057\u307e\u3057\u305f\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fDHCP\u3067\u3059\u304c\u3001\u5272\u308a\u5f53\u3066\u3089\u308c\u305fIP\u30a2\u30c9\u30ec\u30b9\u304c\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u305f\u3081\u8a2d\u5b9a\u3092\u5165\u308c\u305a\u3068\u3082\u7ba1\u7406Web\u30da\u30fc\u30b8\u306b\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002</p> <p>\u7ba1\u7406UI\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u305f\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3067\u3059\u3002</p> <p></p> <ol> <li> <p>\u8a55\u4fa1\u7248ESXi 8 (https://customerconnect.vmware.com/jp/evalcenter?p=vsphere-eval-8) \u3067\u306f\u306a\u3044\u306e\u3067\u6ce8\u610f\u00a0\u21a9</p> </li> </ol>"},{"location":"infra/future_storage/","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u69cb\u60f3","text":"<p>Created: 2023/08/05</p>"},{"location":"infra/future_storage/#_2","title":"\u6982\u8981","text":"<p>\u4eee\u60f3\u30de\u30b7\u30f3\u5468\u308a\u3067\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5171\u6709\u3057\u305f\u308a\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u4ed5\u7d44\u307f\u3092\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u306b\u96c6\u7d04\u3057\u305f\u3044\u3002</p>"},{"location":"infra/future_storage/#truenas","title":"TrueNAS","text":"<ul> <li>\u5404\u4eee\u60f3\u30de\u30b7\u30f3\u306eDB\u306a\u3069\u306f\u3053\u3053\u306b\u96c6\u7d04\u3057\u305f\u3044</li> <li>\u4f7f\u7528\u3067\u304d\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u306f<ul> <li>SMB</li> <li>NFS</li> </ul> </li> </ul> <p>https://milestone-of-se.nesuke.com/sv-advanced/file-server/nfs-cifs-smb-summary/</p> <ul> <li>\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3068\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u5229\u7528\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e2\u7a2e</li> <li>\u68481: App\u3054\u3068\u306bNFS\u5206\u96e2<ul> <li>ex. misskey<ul> <li>/misskey/data, /misskey/app</li> </ul> </li> </ul> </li> <li>\u68482: DB\u7cfb\u3068App\u7cfb\u3067\u5206\u96e2<ul> <li>ex. /data/misskey, /app/misskey</li> </ul> </li> </ul> <p>\u5b9f\u969b\u306fApp\u306e\u30c7\u30fc\u30bf\u306fgit\u3067\u7ba1\u7406\u3057\u305f\u3044\u3053\u3068\u304c\u591a\u3044\u6c17\u304c\u3059\u308b \u8a2d\u5b9a\u3068\u304b\u98db\u3073\u305d\u3046\u3067\u3053\u308f\u3044\u3057\u30fb\u30fb\u30fb</p> <p>\u67d4\u8edf\u306a\u306e\u306fApp\u3054\u3068\u5206\u96e2\u3059\u308b\u3084\u3064\u304b\u3082</p> <p>\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u53d6\u308a\u3065\u3089\u3044\u3051\u3069\u3044\u3063\u304b\u30fb\u30fb\u30fb</p>"},{"location":"infra/future_storage/#zfs-snapshot","title":"ZFS Snapshot","text":"<p>https://www.truenas.com/docs/scale/scaletutorials/storage/datasets/creatingsnapshots/</p> <p>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3082\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3067\u7ba1\u7406\u3067\u304d\u305f\u3089\u3044\u3044\u3093\u3067\u306d\u3063\u3066</p> <ul> <li>\u554f\u984c<ul> <li>DB\u30ed\u30c3\u30af\u3057\u3066\u304b\u3089(flush\uff1f)\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u304c\u3044\u3044\u304b\u3082</li> <li>\u3044\u308d\u3093\u306a\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u4f7f\u3044\u305f\u3044\u30fb\u30fb\u30fb</li> </ul> </li> </ul> <p>\u2192 \u30d5\u30eb\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092n\u4e16\u4ee3\u6b8b\u3057\u3066\u305d\u308c\u4ee5\u4e0a\u306f\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306b\u3059\u308b</p>"},{"location":"infra/future_storage/#docker-compose-volumenfs","title":"docker compose volume\u3067NFS\u3092\u30de\u30a6\u30f3\u30c8\u3057\u305f\u3044\u3068\u304d","text":"<p>usecase: misskey postage DB\u306e\u30c7\u30fc\u30bf\u3092\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u306b\u7f6e\u304d\u305f\u3044</p>"},{"location":"infra/future_storage/#docker-compose","title":"docker compose \u30d5\u30a1\u30a4\u30eb","text":"<p>docker-compose.yml\u306b\u3066\u3001volume\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b</p> <pre><code>volumes:\n  db_volume:\n    driver_opts:\n      type: nfs\n      o: \"addr=192.168.10.100,hard,rw\"\n      device: \":/mnt/tank/services/misskey/db\"\n\nservices:\n  db:\n    volumes:\n      - db_volume:/var/lib/postgresql/data\n    # \u7565\n</code></pre>"},{"location":"infra/future_storage/#nfs","title":"NFS\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a","text":"<p>\u6a29\u9650\u5468\u308a\u3067\u6012\u3089\u308c\u308b\u4e8b\u304c\u3042\u308b\u3002\u3042\u307e\u308a\u826f\u304f\u308f\u304b\u3063\u3066\u3044\u306a\u3044\u30fb\u30fb\u30fb</p> <pre><code>kokshi@vmdev1:/mnt/misskey$ sudo docker compose up -d db\n[+] Running 3/4\n \u2714 Network misskey_default        Created                                                                          0.1s\n \u2714 Volume \"misskey_db_volume\"     Created                                                                          0.0s\n \u2714 Volume \"misskey_redis_volume\"  Created                                                                          0.0s\n \u280b Container misskey-db-1         Creating                                                                         0.0s\nError response from daemon: failed to chmod on /var/lib/docker/volumes/misskey_db_volume/_data: chmod /var/lib/docker/volumes/misskey_db_volume/_data: operation not permitted\n</code></pre> <p>Maproot User\u306b\u30eb\u30fc\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3002</p> <p></p>"},{"location":"infra/grafana_cloud/","title":"Grafana Cloud","text":"<p>Created: 2023/08/31</p>"},{"location":"infra/grafana_cloud/#_1","title":"\u6982\u8981","text":"<p>Prometheus\u3068\u304bGrafana\u3068\u304b\u81ea\u524d\u3067\u69cb\u7bc9\u3057\u3088\u3046\u304b\u3068\u601d\u3063\u305f\u3051\u3069\u9014\u7aef\u306b\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u305f\u306e\u3067Grafana Cloud\u3067\u697d\u3067\u304d\u306a\u3044\u304b\u691c\u8a0e\u3057\u3066\u307f\u307e\u3059\u3002</p>"},{"location":"infra/grafana_cloud/#_2","title":"\u53c2\u8003","text":"<p>https://blog.geeko.jp/ftake/2866</p>"},{"location":"infra/grafana_cloud/#prometheusgrafana","title":"Prometheus/Grafana\u306e\u53c2\u8003","text":"<p>Prometheus\u6700\u901f\u69cb\u7bc9 - Zenn</p> <p>Ubuntu20.04\u3067Prometheus\u3092\u7528\u3044\u3066\u30ea\u30bd\u30fc\u30b9\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\uff08\u74b0\u5883\u69cb\u7bc9\u7de8\uff09 - Qiita</p>"},{"location":"infra/grafana_cloud/#_3","title":"\u3084\u3063\u305f\u3053\u3068","text":""},{"location":"infra/grafana_cloud/#ubuntu-vm","title":"Ubuntu (VM)","text":"<p>\u624b\u9806\u306b\u5f93\u3063\u3066Grafana Agent\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068<code>/etc/grafana-agent.yaml</code>\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u63db\u3048\u3092\u884c\u3046\u3002\u6700\u5f8c\u306b\u30b5\u30fc\u30d3\u30b9\u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3057\u3066\u5b8c\u4e86\u3002</p> <p>https://kokshi.grafana.net/connections/add-new-connection/linux-node</p> <p></p>"},{"location":"infra/grafana_cloud/#truenas","title":"TrueNAS","text":"<p>Graphite\u3067\u30c7\u30fc\u30bf\u3092\u5410\u3051\u308b\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001TrueNAS -&gt; Graphite -&gt; Grafana Cloud\u3067\u30a4\u30b1\u306a\u3044\u304b\u8a66\u3059\u3002</p> <p>\u8a02\u6b63 TrueNAS -&gt; graphite-expoter -&gt; Grafana Agent -&gt; Grafana Cloud</p> <p>https://github.com/prometheus/graphite_exporter/</p> <pre><code>$ sudo docker pull prom/graphite-exporter\n$ sudo docker run -d -p 9108:9108 -p 2003:9109 -p 2003:9109/udp -v ${PWD}/graphite_mapping.conf:/tmp/graphite_mapping.conf --restart=always --name graphite-exporter prom/graphite-exporter --graphite.mapping-config=/tmp/graphite_mapping.conf --graphite.mapping-strict-match\n</code></pre> <p><code>graphite_mapping.conf</code>\u306f\u7a7a\u3067\u3082\u52d5\u304d\u307e\u3059\u3002</p> <p>Grafana Agent\u306e\u8a2d\u5b9a\u306b\u6b21\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002\u30bf\u30fc\u30b2\u30c3\u30c8\u306b graphite-expoter\u306e\u30db\u30b9\u30c8\u540d\uff0b\u30dd\u30fc\u30c8\u3092\u66f8\u3051\u3070OK\u3067\u3059\u3002</p> <pre><code>metrics:\n  configs:\n  - name: integrations\n    remote_write:\n    - basic_auth:\n        password: any\n        username: any\n      url: https://prometheus-prod-37-prod-ap-southeast-1.grafana.net/api/prom/push\n    scrape_configs:\n      # Add here any snippet that belongs to the `metrics.configs.scrape_configs` section.\n      # For a correct indentation, paste snippets copied from Grafana Cloud at the beginning of the line.\n      - job_name: 'graphite'\n        static_configs:\n        - targets: ['localhost:9108']\n</code></pre> <p></p> <p>\u3082\u3057\u304b\u3057\u305f\u3089\u5909\u63db\u3057\u305f\u307b\u3046\u304c\u3084\u308a\u3084\u3059\u3044\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> <p>https://kokshi.grafana.net/a/cloud-home-app</p> <p>\u591a\u5206\u30bf\u30b0\u4ed8\u3051\u3068\u304b\u304c\u3067\u304d\u308b\u306e\u3067\u9811\u5f35\u3063\u3066\u66f8\u304f\u3002</p> <p>\u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30c6\u30b9\u30c8\u53d7\u4fe1\u3067\u304d\u308b\u3002</p> <pre><code>$ nc -lk 2003\n</code></pre>"},{"location":"infra/grafana_cloud/#graphite-expoter","title":"graphite-expoter \u30de\u30c3\u30d4\u30f3\u30b0\u306e\u8a2d\u5b9a","text":"<p><code>match</code>\u306f\u57fa\u672cGlob\u3067\u66f8\u3051\u308b\u304c<code>.cpu-*.</code>\u306e\u3088\u3046\u306b\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306b<code>.</code>\u4ee5\u5916\u304c\u96a3\u63a5\u3059\u308b\u5834\u5408\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u6ce8\u610f\u3059\u308b\u3002TrueNAS\u306fReports Config\u306e\"Graphite Separate Instances\"\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u30de\u30c3\u30d4\u30f3\u30b0\u304c\u601d\u3044\u901a\u308a\u306b\u884c\u304f\u3002</p> <p>prometheus/statsd_exporter - \u30de\u30c3\u30d4\u30f3\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u6cd5</p> <pre><code># graphite_mapping.conf\nmappings:\n- match: servers.truenas_local.cpu.*.cpu.*\n  name: truenas_cpu\n  labels:\n    cpu: $1\n    mode: $2\n- match: servers.truenas_local.disk.*.disk_time.*\n  name: \"truenas_disk_time_${2}\"\n  labels:\n    disk: $1\n- match: \"servers.truenas_local.interface.*.*.*\"\n  name: \"truenas_${2}_${3}\"\n  labels:\n    interface: $1\n- match: \"servers.truenas_local.memory.memory.*\"\n  name: \"truenas_memory_${1}\"\n</code></pre>"},{"location":"infra/grafana_cloud/#_4","title":"\u6587\u732e","text":"<p>https://www.truenas.com/docs/scale/scaleuireference/reportingscreensscale/</p> <p>https://www.truenas.com/community/threads/truenas-scale-reporting-to-graphite-change-port.101052/</p> <p>TrueNAS\u306fGraphite\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30fc\u30c8(2003\u3089\u3057\u3044)\u3092\u5909\u3048\u3089\u308c\u306a\u3044\u307f\u305f\u3044</p>"},{"location":"infra/ix2215_initial/","title":"IX2215 \u521d\u671f\u5316\u5f8c\u306e\u8a2d\u5b9a","text":""},{"location":"infra/ix2215_initial/#_1","title":"\u6982\u8981","text":"<p>IX2215\u3092\u521d\u671f\u5316\u3057\u3001\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002</p>"},{"location":"infra/ix2215_initial/#_2","title":"\u6e96\u5099","text":"<p>IX2215\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u30b1\u30fc\u30d6\u30eb\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002</p>"},{"location":"infra/ix2215_initial/#_3","title":"\u521d\u671f\u5316","text":"<pre><code>ix2215(config)# erase startup-config\nix2215(config)# reload\n</code></pre>"},{"location":"infra/ix2215_initial/#_4","title":"\u521d\u671f\u8a2d\u5b9a","text":""},{"location":"infra/ix2215_initial/#_5","title":"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a","text":"<pre><code>Router# enable-config\nEnter configuration commands, one per line. End with CNTL/Z.\nRouter(config)# username admin password plain 1 PASSWORD administrator\n% User 'admin' has been added.\n% Password strength estimation: score 2(normal).\n</code></pre>"},{"location":"infra/ix2215_initial/#_6","title":"\u30db\u30b9\u30c8\u540d","text":"<pre><code>Router(config)# hostname ix2215\nix2215(config)#\n</code></pre>"},{"location":"infra/ix2215_initial/#_7","title":"\u8a2d\u5b9a\u306e\u4fdd\u5b58\u3068\u518d\u8d77\u52d5","text":"<pre><code>ix2215(config)# write memory\nBuilding configuration...\n% Warning: do NOT enter CNTL/Z while saving to avoid config corruption.\nix2215(config)# reload\nNotice: The router will be RELOADED. This is to ensure that\n        the peripheral devices are properly initialized.\nAre you sure you want to reload the router? (Yes or [No]): Yes\n</code></pre>"},{"location":"infra/ix2215_initial/#_8","title":"\u30ea\u30e2\u30fc\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u6709\u52b9\u5316","text":""},{"location":"infra/ix2215_initial/#ip","title":"IP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a","text":"<p>GE2\u30dd\u30fc\u30c8\u306b<code>192.168.10.254/24</code>\u3092\u8a2d\u5b9a\u3057\u3001\u6709\u52b9\u5316\u3057\u307e\u3059\u3002</p> <pre><code>ix2215# configure\nEnter configuration commands, one per line. End with CNTL/Z.\nix2215(config)# interface GigaEthernet2.0\nix2215(config-GigaEthernet2.0)# ip address 192.168.10.254/24\nix2215(config-GigaEthernet2.0)# no shutdown\n</code></pre>"},{"location":"infra/ix2215_initial/#ssh","title":"SSH\u306e\u6709\u52b9\u5316","text":"<pre><code>ix2215(config)# ssh-server ip enable\n</code></pre>"},{"location":"infra/ix2215_initial/#http","title":"HTTP\u30b5\u30fc\u30d0\u30fc\u306e\u6709\u52b9\u5316","text":"<pre><code>ix2215(config)# http-server ip enable\nix2215(config)# http-server username admin\n</code></pre> <p>Info</p> <p>\u6700\u4f4e\u4e00\u3064\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u767b\u9332\u3055\u308c\u3066\u306a\u3044\u3068\u30b2\u30b9\u30c8\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"infra/ix2215_initial/#_9","title":"\u7701\u96fb\u529b\u8a2d\u5b9a","text":"<p>\u4f7f\u7528\u3057\u306a\u3044\u30c7\u30d0\u30a4\u30b9\u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u307e\u3059\u3002</p> <pre><code>ix2215(config)# device GigaEthernet1\nix2215(config-GigaEthernet1)# shutdown\n</code></pre>"},{"location":"infra/ix2215_initial/#netmeister","title":"NetMeister\u8a2d\u5b9a","text":"<p>NEC\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30ba\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bNetMeister\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3067\u3059\u3002\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>ix2215(config)# nm ip enable\nix2215(config)# nm account &lt;group-id&gt; password plain &lt;group-password&gt;\n</code></pre>"},{"location":"infra/ix2215_ipoe/","title":"IX2215 IPoE(v6\u30d7\u30e9\u30b9, MAP-E\u65b9\u5f0f)\u3067\u63a5\u7d9a\u3059\u308b","text":""},{"location":"infra/ix2215_ipoe/#_1","title":"\u6982\u8981","text":"<p>UNIVERGE IX\u30b7\u30ea\u30fc\u30ba v6\u30d7\u30e9\u30b9 \uff08MAP-E\u65b9\u5f0f\uff09 \u8a2d\u5b9a\u30ac\u30a4\u30c9\u306e\u300c\u8a2d\u5b9a\u4f8b2 v6\u30d7\u30e9\u30b9\uff08MAP-E\u65b9\u5f0f\uff09\u306e\u8a2d\u5b9a - IPv6 RA\u300d\u3092\u53c2\u8003\u306b\u8a2d\u5b9a\u3092\u6295\u5165\u3057\u307e\u3059\u3002</p> <p>\u306e\u524d\u306b\u3001IPv6\u306b\u95a2\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u6280\u8853\u3092\u7406\u89e3\u3057\u3066\u304a\u304d\u307e\u3059\u3002</p>"},{"location":"infra/ix2215_ipoe/#ra-router-advertisement","title":"RA (Router Advertisement)","text":"<p>RA (Router Advertisement; \u30eb\u30fc\u30bf\u5e83\u544a)\u3068\u306f\u3001 IPv6\u30a2\u30c9\u30ec\u30b9\u306e\u81ea\u52d5\u8a2d\u5b9a\u3092\u884c\u3046\u6a5f\u80fd(Stateless Address Autoconfiguration, SLAAC)(*1)\u306e\u4e00\u90e8\u5206\u3067\u3001 RFC4862\u3067\u6a19\u6e96\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002 1</p> <p>IPv6\u306e\u30a2\u30c9\u30ec\u30b9\u306e\u81ea\u52d5\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3056\u3063\u304f\u308a\u306a\u7406\u89e3\u3060\u3068\u3001RS(Router Solicitation, \u30eb\u30fc\u30bf\u8981\u8acb) \u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30db\u30b9\u30c8\u3001\u3064\u307e\u308aIPv6\u30a2\u30c9\u30ec\u30b9\u3092\u8981\u6c42\u3059\u308b\u5074\u304c\u767a\u884c\u3057\u3001RS\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u305f\u30eb\u30fc\u30bf\u306fIPv6\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u306a\u3069\u3092RA(Router Advertisement)\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u5165\u308c\u3066\u767a\u884c\u3057\u307e\u3059\u3002RA\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u305f\u30db\u30b9\u30c8\u306f\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9ID\u3092\u7d44\u307f\u5408\u308f\u305b\u81ea\u5206\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <p></p> <p>\u51fa\u5178: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066 IPv6\u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a\uff08\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3001\u30b9\u30c6\u30fc\u30c8\u30d5\u30eb\u3001DHCPv6\uff09</p>"},{"location":"infra/ix2215_ipoe/#map-e","title":"MAP-E","text":"<p>IPv4 over IPv6\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u65b9\u5f0f\u306e\u4e00\u3064\u3067\u3059\u3002IPv4 over IPv6\u306f\u57fa\u672c\u7684\u306bIPv6\u306e\u30d1\u30b1\u30c3\u30c8\u3067IPv4\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3057\u307e\u3059\u3002</p> <p>MAP-E\u3067\u306f\u3001\u901a\u4fe1\u4e8b\u696d\u8005\u5074\u306b MAP BE(border Relay) \u30eb\u30fc\u30bf\u30fc \u3001\u30e6\u30fc\u30b6\u30fc\u5b85\u5185\u306b MAP CE(Customer Edge)\u30eb\u30fc\u30bf\u30fc \u3092\u5229\u7528\u3057\u307e\u3059\u3002\u57fa\u672c\u7684\u306b\u306f\u305d\u308c\u305e\u308c\u306e\u30eb\u30fc\u30bf\u30fc\u304cIPv4\u306e\u30d1\u30b1\u30c3\u30c8\u3092IPv6\u3067\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u3001IPv4\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u9001\u308b\u969b\u306bIPv4\u30d1\u30b1\u30c3\u30c8\u3092\u53d6\u308a\u51fa\u3057\u3066\u304b\u3089\u9001\u4fe1\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u3068\u304d\u3001\u5404CE\u30eb\u30fc\u30bf\u30fc\u306b\u5272\u308a\u5f53\u3066\u308b\u30b0\u30ed\u30fc\u30d0\u30ebIPv4\u30a2\u30c9\u30ec\u30b9\u306f\u8907\u6570\u306eCE\u30eb\u30fc\u30bf\u30fc\u3067\u5171\u6709\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u5171\u6709\u3059\u308b\u3068\u9001\u4fe1\u5143\u304c\u8ab0\u306a\u306e\u304b\u308f\u304b\u3089\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u30c8\u30e9\u30f3\u30b9\u30dd\u30fc\u30c8\u5c64\u30d7\u30ed\u30c8\u30b3\u30eb(TCP\u306a\u3069)\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5229\u7528\u3057\u3066\u30e6\u30fc\u30b6\u3092\u8b58\u5225\u3057\u307e\u3059\u30020~65535\u306e\u7bc4\u56f2\u306e\u4e00\u90e8\u3001\u4f8b\u3048\u3070\u6b21\u306e\u3088\u3046\u306a\u7bc4\u56f2\u3092\u30e6\u30fc\u30b6\u30fc\u305d\u308c\u305e\u308c\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002</p> <pre><code>  NAPT translation port:\n    4144-4159, 8240-8255, 12336-12351, ...\n</code></pre> <p></p> <p>\u51fa\u5178: \u30b5\u30a4\u30c8\u7ba1\u7406\u8005\u3084\u958b\u767a\u8005\u304c\u77e5\u3063\u3066\u304a\u304d\u305f\u3044\u300cIPv4/IPv6\u5171\u5b58\u6280\u8853\u300d (3/3)</p>"},{"location":"infra/ix2215_ipoe/#nd","title":"ND\u30d7\u30ed\u30ad\u30b7","text":"<p>\u307e\u305a\u3001ND(Neighbor Discovery)\u3068\u306f\u8fd1\u96a3\u63a2\u7d22\u306e\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002IPv4\u3067\u306f\u8fd1\u96a3\u8005\u767a\u898b\u306e\u305f\u3081\u306bARP\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001IPv6\u3067\u306fICMPv6\u30d1\u30b1\u30c3\u30c8\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u30022</p> <p>ND\u30d7\u30ed\u30ad\u30b7\u3068\u306f\u3053\u306eND\u7528\u306e\u30d7\u30ed\u30ad\u30b7\u3067\u3059\u3002IPv6\u3067\u306f\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308c\u3070\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002\u30eb\u30fc\u30bf\u306e\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u306fIPv6\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30b9\u30b9\u30eb\u30fc\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u304c\u3001\u30eb\u30fc\u30bf\u914d\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u516c\u958b\u3055\u308c\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u61f8\u5ff5\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u305d\u3053\u3067\u3001ND\u30d7\u30ed\u30ad\u30b7\u3092\u5229\u7528\u3057\u307e\u3059\u3002ND\u30d7\u30ed\u30ad\u30b7\u306fIPv6\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u4e00\u65e6\u30eb\u30fc\u30bf\u3067\u53d7\u3051\u3001\u30db\u30b9\u30c8\u306b\u4e2d\u7d99\u3057\u307e\u3059\u3002\u305d\u3046\u3059\u308b\u3053\u3068\u3067\u30d1\u30b1\u30c3\u30c8\u306e\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306a\u3069\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002</p> <p> {width=\"500\"}</p> <p>\u51fa\u5178: ND\u30d7\u30ed\u30ad\u30b7\u3063\u3066\u4f55\uff1f</p>"},{"location":"infra/ix2215_ipoe/#ix2215","title":"IX2215\u306e\u8a2d\u5b9a\u4f8b","text":"<p>UNIVERGE IX\u30b7\u30ea\u30fc\u30ba v6\u30d7\u30e9\u30b9 \uff08MAP-E\u65b9\u5f0f\uff09 \u8a2d\u5b9a\u30ac\u30a4\u30c9\u306e\u300c\u8a2d\u5b9a\u4f8b2 v6\u30d7\u30e9\u30b9\uff08MAP-E\u65b9\u5f0f\uff09\u306e\u8a2d\u5b9a - IPv6 RA\u300d\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>ip ufs-cache max-entries 20000\nip ufs-cache enable\nip route default Tunnel0.0\nip dhcp enable\n!\nipv6 ufs-cache max-entries 10000\nipv6 ufs-cache enable\nipv6 dhcp enable\n!\nproxy-dns ip enable\nproxy-dns ip request both\n!\nip dhcp profile dhcpv4-sv\n  dns-server 192.168.1.1\n!\nipv6 dhcp client-profile dhcpv6-cl\n  information-request\n  option-request dns-servers\n!\nipv6 dhcp server-profile dhcpv6-sv\n  dns-server dhcp\n!\ninterface GigaEthernet0.0\n  no ip address\n  ipv6 enable\n  ipv6 traffic-class tos 0\n  ipv6 dhcp client dhcpv6-cl\n  ipv6 nd proxy GigaEthernet1.0\n  no shutdown\n!\ninterface GigaEthernet1.0\n  ip address 192.168.1.1/24\n  ip dhcp binding dhcpv4-sv\n  ipv6 enable\n  ipv6 dhcp server dhcpv6-sv\n  ipv6 nd ra enable\n  ipv6 nd ra other-config-flag\n  no shutdown\n!\ninterface Tunnel0.0\n  tunnel mode map-e\n  ip address map-e\n  ip tcp adjust-mss auto\n  ip napt enable\n  no shutdown\n</code></pre> <pre><code>ipv6 access-list block-list deny ip src any dest any\nipv6 access-list dhcpv6-list permit udp src any sport any dest any dport eq 546\nipv6 access-list dhcpv6-list permit udp src any sport any dest any dport eq 547\nipv6 access-list icmpv6-list permit icmp src any dest any\nipv6 access-list tunnel-list permit 4 src any dest any\nipv6 access-list other-list permit ip src any dest any\nipv6 access-list dynamic cache 65535\nipv6 access-list dynamic dflt-list access other-list\n!\ninterface GigaEthernet0.0\n  ipv6 filter dhcpv6-list 1 in\n  ipv6 filter icmpv6-list 2 in\n  ipv6 filter tunnel-list 3 in\n  ipv6 filter block-list 100 in\n  ipv6 filter dhcpv6-list 1 out\n  ipv6 filter icmpv6-list 2 out\n  ipv6 filter tunnel-list 3 out\n  ipv6 filter dflt-list 100 out\n</code></pre>"},{"location":"infra/ix2215_ipoe/#_2","title":"\u3053\u304f\u3057\u30e9\u30dc\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5411\u3051\u8a2d\u5b9a","text":"<p>\u8a2d\u5b9a\u4f8b\u3092\u53c2\u8003\u306b\u3001\u6b21\u306e\u8a2d\u5b9a\u3092\u53cd\u6620\u3057\u307e\u3059\u3002</p> <ul> <li>\u30eb\u30fc\u30bfIP <code>192.168.10.254/24</code></li> <li>GE0\u30dd\u30fc\u30c8\u3092WAN, GE2\u30dd\u30fc\u30c8\u3092LAN</li> </ul> <pre><code>ix2215# configure\nEnter configuration commands, one per line. End with CNTL/Z.\nix2215(config)# ip ufs-cache max-entries 20000\nix2215(config)# ip ufs-cache enable\nix2215(config)# ip route default Tunnel0.0\nix2215(config)# ip dhcp enable\nix2215(config)#\nix2215(config)# ipv6 ufs-cache max-entries 10000\nix2215(config)# ipv6 ufs-cache enable\nix2215(config)# ipv6 dhcp enable\nix2215(config)#\nix2215(config)# proxy-dns ip enable\nix2215(config)# proxy-dns ip request both\nix2215(config)#\nix2215(config)# ip dhcp profile dhcpv4-sv\nix2215(config-dhcp-dhcpv4-sv)# dns-server 192.168.10.254\nix2215(config-dhcp-dhcpv4-sv)# exit\nix2215(config)# ipv6 dhcp client-profile dhcpv6-cl\nix2215(config-ipv6-dhc-dhcpv6-cl)# information-request\nix2215(config-ipv6-dhc-dhcpv6-cl)# option-request dns-servers\nix2215(config-ipv6-dhc-dhcpv6-cl)# exit\nix2215(config)# ipv6 dhcp server-profile dhcpv6-sv\nix2215(config-ipv6-dhs-dhcpv6-sv)# dns-server dhcp\nix2215(config-ipv6-dhs-dhcpv6-sv)# exit\nix2215(config)#\n\nix2215(config)# interface GigaEthernet0.0\nix2215(config-GigaEthernet0.0)# no ip address\nix2215(config-GigaEthernet0.0)# ipv6 enable\nix2215(config-GigaEthernet0.0)# ipv6 traffic-class tos 0\nix2215(config-GigaEthernet0.0)# ipv6 dhcp client dhcpv6-cl\nix2215(config-GigaEthernet0.0)# ipv6 nd proxy GigaEthernet2.0\nix2215(config-GigaEthernet0.0)# no shutdown\nix2215(config-GigaEthernet0.0)#\n\nix2215(config)# interface GigaEthernet2.0\nix2215(config-GigaEthernet2.0)#   ip dhcp binding dhcpv4-sv\nix2215(config-GigaEthernet2.0)#   ipv6 enable\nix2215(config-GigaEthernet2.0)#   ipv6 dhcp server dhcpv6-sv\nix2215(config-GigaEthernet2.0)#   ipv6 nd ra enable\nix2215(config-GigaEthernet2.0)#   ipv6 nd ra other-config-flag\n\nix2215(config)# interface Tunnel0.0\nix2215(config-Tunnel0.0)#   tunnel mode map-e\nix2215(config-Tunnel0.0)#   ip address map-e\nix2215(config-Tunnel0.0)#   ip tcp adjust-mss auto\nix2215(config-Tunnel0.0)#   ip napt enable\nix2215(config-Tunnel0.0)#   no shutdown\nix2215(config-Tunnel0.0)# exit\n\nix2215(config)# ipv6 access-list block-list deny ip src any dest any\nix2215(config)# ipv6 access-list dhcpv6-list permit udp src any sport any dest any dport eq 546\nix2215(config)# ipv6 access-list dhcpv6-list permit udp src any sport any dest any dport eq 547\nix2215(config)# ipv6 access-list icmpv6-list permit icmp src any dest any\nix2215(config)# ipv6 access-list tunnel-list permit 4 src any dest any\nix2215(config)# ipv6 access-list other-list permit ip src any dest any\nix2215(config)# ipv6 access-list dynamic cache 65535\nix2215(config)# ipv6 access-list dynamic dflt-list access other-list\nix2215(config)#\nix2215(config)# interface GigaEthernet0.0\nix2215(config-GigaEthernet0.0)#   ipv6 filter dhcpv6-list 1 in\nix2215(config-GigaEthernet0.0)#   ipv6 filter icmpv6-list 2 in\nix2215(config-GigaEthernet0.0)#   ipv6 filter tunnel-list 3 in\nix2215(config-GigaEthernet0.0)#   ipv6 filter block-list 100 in\nix2215(config-GigaEthernet0.0)#   ipv6 filter dhcpv6-list 1 out\nix2215(config-GigaEthernet0.0)#   ipv6 filter icmpv6-list 2 out\nix2215(config-GigaEthernet0.0)#   ipv6 filter tunnel-list 3 out\nix2215(config-GigaEthernet0.0)#   ipv6 filter dflt-list 100 out\nix2215(config-GigaEthernet0.0)# exit\nix2215(config)# write memory\nix2215(config)# reload\n</code></pre> <p>\u518d\u8d77\u52d5\u3057\u3066\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002</p> <ol> <li> <p> \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7528\u8a9e1\u5206\u89e3\u8aac\uff5eRA (RouterAdvertisement; \u30eb\u30fc\u30bf\u5e83\u544a) \u3068\u306f\uff5e - JPNIC \u21a9</p> </li> <li> <p>\u8fd1\u96a3\u63a2\u7d22\u30d7\u30ed\u30c8\u30b3\u30eb, ICMPv6 \u21a9</p> </li> </ol>"},{"location":"infra/proxmox/","title":"Proxmox","text":"<p>Proxmox VE\u3068\u306f\u3001\u30b5\u30fc\u30d0\u30fc\u4eee\u60f3\u5316\u306e\u305f\u3081\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u3002</p>"},{"location":"infra/proxmox/#_1","title":"\u3067\u304d\u308b\u3053\u3068","text":"<ul> <li>KVM\u3092\u5229\u7528\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3</li> <li>LXC (Linux Containers)\u3092\u5229\u7528\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u7ba1\u7406</li> </ul> <p>\u7b49\u3005</p>"},{"location":"infra/proxmox/#_2","title":"\u7279\u5fb4","text":"<p>\u30d9\u30fc\u30b9\u304cDebian\u3067\u3001Linux\u304c\u52d5\u304f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306a\u3089\u5927\u4f53\u52d5\u304f\u306e\u3067\u5b09\u3057\u3044\u3002\u307e\u305f\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30ea\u30fc\u3067\u7121\u511f\u7248\u3067\u3082\u304a\u304a\u3088\u305d\u306e\u6a5f\u80fd\u3092\u307b\u307c\u5168\u3066\u4f7f\u3048\u308b\u3002</p>"},{"location":"infra/proxmox/#esxi-vsphere-hypervisor","title":"ESXi \u7121\u511f\u7248(vSphere Hypervisor)\u3068\u306e\u6bd4\u8f03","text":"<ul> <li>ESXi\u306f\u30d9\u30a2\u30e1\u30bf\u30eb\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u30fc</li> <li>OSS\u3067\u306f\u306a\u304fVMware\u306e\u88fd\u54c1</li> <li>ESXi\u306e\u65b9\u304cGUI\u304c\u3061\u3083\u3093\u3068\u3057\u3066\u3044\u308b\u3089\u3057\u3044</li> <li>\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u7121\u511f\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u3044\u308b</li> </ul>"},{"location":"infra/proxmox/#_3","title":"\u691c\u8a0e","text":""},{"location":"infra/proxmox/#proxmoxtruenas","title":"Proxmox\u4e0a\u306bTrueNAS\u306f\u69cb\u7bc9\u3067\u304d\u308b\u306e\u304b\uff1f","text":"<p>Proxmox W/TrueNAS vs TrueNAS SCALE?</p> <p>Question</p> <p>\u30b9\u30c8\u30ec\u30fc\u30b8\u5468\u308a\u3092\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u304b\u4e0d\u660e\u3002RAID(ZFS)\u3092\u3069\u3046\u3084\u3063\u3066\u69cb\u7bc9\u3059\u308b\u304b\u306b\u3088\u308b\u306e\u304b\uff1f</p>"},{"location":"infra/proxmox/#_4","title":"\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc","text":"<p>\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u52d5\u304b\u3059\u306e\u306f\u3082\u3057\u304b\u3057\u305f\u3089\u30d9\u30b9\u30c8\u306a\u9078\u629e\u80a2\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3002</p> <ol> <li>ZFS(RAID)\u306f\u53ef\u80fd</li> <li>ZFS\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u76f4\u63a5\u64cd\u4f5c\u306f\u3067\u304d\u306a\u3044</li> <li>\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u306b\u7acb\u3066\u308b\u3053\u3068\u306f\u53ef\u80fd</li> <li>\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u7528OS\u3092\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306b\u7acb\u3066\u308b\u3053\u3068\u306f\u53ef\u80fd\u3060\u304c\u3001\u610f\u5473\u304c\u3042\u308b\u306e\u304b</li> <li>Proxmox\u4e0a\u306b\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u308b\u3053\u3068\u306f\u53ef\u80fd\u3060\u304c\u3001\u8a2d\u5b9a\u30a2\u30c3\u30d7\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044</li> </ol>"},{"location":"infra/proxmox/#_5","title":"\u53c2\u8003","text":"<ul> <li>GPU\u30d1\u30b9\u30b9\u30eb\u30fc\u3082\u7c21\u5358\u306b\u3067\u304d\u308b\u4eee\u60f3\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300cProxmox VE\u300d</li> <li>\u304a\u5bb6\u3067\u59cb\u3081\u308b\u4eee\u60f3\u5316\u74b0\u5883 Proxmox VE \u74b0\u5883\u69cb\u7bc9\u7de8</li> </ul>"},{"location":"infra/room_network/","title":"\u81ea\u5b85\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092IX2215\u3068CRS305\u3067\u69cb\u7bc9\u3059\u308b","text":"<p>Created: 2023/05/01</p>"},{"location":"infra/room_network/#_1","title":"\u6982\u8981","text":"<p>NEC IX2215\u30eb\u30fc\u30bf\u30fc\u3068Mikrotik CRS305 10GbE \u30b9\u30a4\u30c3\u30c1\u3092\u4f7f\u7528\u3057\u3066\u81ea\u5b85\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p>"},{"location":"infra/room_network/#20230501","title":"\u73fe\u72b6(2023/05/01)","text":""},{"location":"infra/room_network/#20230503","title":"\u5c06\u6765(2023/05/03)","text":""},{"location":"infra/room_network/#_2","title":"\u69cb\u7bc9\u6761\u4ef6","text":"<ul> <li>IPv4 over IPv6(MAP-E\u65b9\u5f0f)\u3067\u63a5\u7d9a</li> <li>VLAN\u306f\u3068\u308a\u3042\u3048\u305a\u7121\u3057</li> </ul>"},{"location":"infra/room_network/#ipoe","title":"IPoE\u306e\u8a2d\u5b9a","text":"<p>IX2215 IPoE(v6\u30d7\u30e9\u30b9, MAP-E\u65b9\u5f0f)\u3067\u63a5\u7d9a\u3059\u308b</p>"},{"location":"infra/room_network/#dhcp-server","title":"DHCP Server","text":"<p><code>192.168.10.10 - 192.168.10.99</code>\u306e\u7bc4\u56f2\u3067\u30a2\u30c9\u30ec\u30b9\u3092\u5272\u308a\u632f\u308a\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306f\u8a2d\u5b9a\u305b\u305a\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u3057\u307e\u3059\u3002DNS\u30b5\u30fc\u30d0\u30fc\u306f\u4eca\u5f8c\u8db3\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002</p> <pre><code>ip dhcp profile dhcpv4-sv\n  assignable-range 192.168.10.10 192.168.10.99\n  fixed-assignment 192.168.10.180 xx:xx:xx:xx:xx:xx\n</code></pre>"},{"location":"infra/room_network/#_3","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u8a2d\u5b9a","text":""},{"location":"infra/room_network/#plex-media-server","title":"Plex Media Server","text":"<p>File Server (Truenas) \u306bPlex\u3092\u7f6e\u3044\u3066\u3044\u307e\u3059\u3002\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u30dd\u30fc\u30c8\u958b\u653e\u3092\u884c\u3044\u307e\u3059\u3002</p> <p>\u591a\u5206MAP-E\u306e\u30c8\u30f3\u30cd\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u9759\u7684NAPT\u3092\u8ffd\u52a0\u3059\u308c\u3070\u884c\u3051\u308b\u306f\u305a\u3067\u3059\u3002</p> <pre><code>interface Tunnel0.0\n  ip napt static 192.168.10.100 tcp 32816\n</code></pre>"},{"location":"infra/room_network/#_4","title":"\u53c2\u8003\u6587\u732e","text":"<ul> <li>v6\u30d7\u30e9\u30b9 \uff08MAP-E\u65b9\u5f0f\uff09 \u8a2d\u5b9a\u30ac\u30a4\u30c9</li> <li>Tailscale \u00b7 Best VPN Service for Secure Networks</li> <li>Tailscale\u306e\u4f7f\u3044\u65b9\uff1a\u6982\u8981</li> </ul>"},{"location":"infra/tailscale/","title":"Tailscale","text":""},{"location":"infra/tailscale/#_1","title":"\u6982\u8981","text":"<p>Tailscale\u306fVPN\u30b5\u30fc\u30d3\u30b9\u306e\u4e00\u7a2e\u3067\u3059\u3002 \u5f93\u6765\u306eVPN\u3068\u7570\u306a\u308a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u9593\u304c\u76f4\u63a5\u63a5\u7d9a\u3055\u308c\u308b\u8b0e\u6280\u8853\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5185\u90e8\u7684\u306b\u306fWireGuard\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u305d\u3046\u3067\u3059\u3002</p> <ul> <li>\u53c2\u8003: Tailscale\u3067\u7c21\u5358\u306b\u7e4b\u304c\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> </ul>"},{"location":"infra/tailscale/#_2","title":"\u76ee\u6a19","text":"<ul> <li>\u5916\u90e8\u304b\u3089File Server\u306b\u63a5\u7d9a\u3059\u308b</li> <li>Subnet routers\u3092\u5229\u7528\u3057\u3066\u30b5\u30d6\u30cd\u30c3\u30c8\u5185\u306e\u6a5f\u5668\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b</li> </ul>"},{"location":"infra/tailscale/#truenas-scale","title":"TrueNAS Scale\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>TrueCharts\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u3066\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001How-To | TrueCharts\u306b\u8a73\u3057\u3044\u8aac\u660e\u304c\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"infra/tailscale/#_3","title":"\u4e8b\u524d\u6e96\u5099","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306eSysctl\u306b2\u3064\u306e\u5909\u6570\u3092\u767b\u9332\u3057\u307e\u3059\u3002TrueNAS\u306eWebUI\u306e\u3001 <code>System Settings</code> -&gt; <code>\u9ad8\u5ea6\u306a\u8a2d\u5b9a</code>\u30da\u30fc\u30b8\u306eSysctl\u306b\u4e0b\u8a18\u306e\u5909\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> var value <code>net.ipv4.ip_forward</code> 1 <code>net.ipv4.conf.all.src_valid_mark</code> 1 <p>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7528\u306eTailscale Auth Key\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p>Keys - Tailscale\u30da\u30fc\u30b8\u306eAuth keys\u3001<code>Generate auth key...</code>\u304b\u3089\u751f\u6210\u3057\u307e\u3059\u3002\u671f\u9650\u306f1-90\u65e5\u306e\u9593\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p></p> <p>TODO: \u3061\u3083\u3093\u3068\u52d5\u4f5c\u3057\u3066\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u78ba\u304b\u3081\u308b</p>"},{"location":"infra/vm_ipaddress/","title":"\u4eee\u60f3\u30de\u30b7\u30f3 IP\u30a2\u30c9\u30ec\u30b9\u7ba1\u7406","text":"<p>Created: 2023/06/12</p> name ipv4 vmtest0 192.168.10.111 vmdev0 192.168.10.112"},{"location":"other/test/","title":"h1 Heading 8-)","text":""},{"location":"other/test/#h2-heading","title":"h2 Heading","text":""},{"location":"other/test/#h3-heading","title":"h3 Heading","text":""},{"location":"other/test/#h4-heading","title":"h4 Heading","text":""},{"location":"other/test/#h5-heading","title":"h5 Heading","text":""},{"location":"other/test/#h6-heading","title":"h6 Heading","text":""},{"location":"other/test/#horizontal-rules","title":"Horizontal Rules","text":""},{"location":"other/test/#typographic-replacements","title":"Typographic replacements","text":"<p>Enable typographer option to see result.</p> <p>(c) (C) (r) (R) (tm) (TM) (p) (P) +-</p> <p>test.. test... test..... test?..... test!....</p> <p>!!!!!! ???? ,,  -- ---</p> <p>\"Smartypants, double quotes\" and 'single quotes'</p>"},{"location":"other/test/#emphasis","title":"Emphasis","text":"<p>This is bold text</p> <p>This is bold text</p> <p>This is italic text</p> <p>This is italic text</p> <p>~~Strikethrough~~</p>"},{"location":"other/test/#blockquotes","title":"Blockquotes","text":"<p>Blockquotes can also be nested...</p> <p>...by using additional greater-than signs right next to each other...</p> <p>...or with spaces between arrows.</p>"},{"location":"other/test/#lists","title":"Lists","text":"<p>Unordered</p> <ul> <li>Create a list by starting a line with <code>+</code>, <code>-</code>, or <code>*</code></li> <li>Sub-lists are made by indenting 2 spaces:</li> <li>Marker character change forces new list start:<ul> <li>Ac tristique libero volutpat at</li> <li>Facilisis in pretium nisl aliquet</li> <li>Nulla volutpat aliquam velit</li> </ul> </li> <li>Very easy!</li> </ul> <p>Ordered</p> <ol> <li>Lorem ipsum dolor sit amet</li> <li>Consectetur adipiscing elit</li> <li> <p>Integer molestie lorem at massa</p> </li> <li> <p>You can use sequential numbers...</p> </li> <li>...or keep all the numbers as <code>1.</code></li> </ol> <p>Start numbering with offset:</p> <ol> <li>foo</li> <li>bar</li> </ol>"},{"location":"other/test/#code","title":"Code","text":"<p>Inline <code>code</code></p> <p>Indented code</p> <pre><code>// Some comments\nline 1 of code\nline 2 of code\nline 3 of code\n</code></pre> <p>Block code \"fences\"</p> <pre><code>Sample text here...\n</code></pre> <p>Syntax highlighting</p> <pre><code>var foo = function (bar) {\nreturn bar++;\n};\n\nconsole.log(foo(5));\n</code></pre>"},{"location":"other/test/#tables","title":"Tables","text":"Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files. <p>Right aligned columns</p> Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files."},{"location":"other/test/#links","title":"Links","text":"<p>link text</p> <p>link with title</p> <p>Autoconverted link https://github.com/nodeca/pica (enable linkify to see)</p>"},{"location":"other/test/#images","title":"Images","text":"<p>Like links, Images also have a footnote style syntax</p> <p></p> <p>With a reference later in the document defining the URL location:</p>"},{"location":"other/test/#plugins","title":"Plugins","text":"<p>The killer feature of <code>markdown-it</code> is very effective support of syntax plugins.</p>"},{"location":"other/test/#emojies","title":"Emojies","text":"<p>Classic markup:  :crush:  :tear:  </p> <p>Shortcuts (emoticons): :-) :-( 8-) ;)</p> <p>see how to change output with twemoji.</p>"},{"location":"other/test/#subscript-superscript","title":"Subscript / Superscript","text":"<ul> <li>19^th^</li> <li>H~2~O</li> </ul>"},{"location":"other/test/#_1","title":"\\ <p>++Inserted text++</p>","text":""},{"location":"other/test/#_2","title":"\\ <p>==Marked text==</p>","text":""},{"location":"other/test/#footnotes","title":"Footnotes <p>Footnote 1 link1.</p> <p>Footnote 2 link2.</p> <p>Inline footnote^[Text of inline footnote] definition.</p> <p>Duplicated footnote reference2.</p>","text":""},{"location":"other/test/#definition-lists","title":"Definition lists <p>Term 1</p> <p>:   Definition 1 with lazy continuation.</p> <p>Term 2 with inline markup</p> <p>:   Definition 2</p> <pre><code>    { some code, part of Definition 2 }\n\nThird paragraph of definition 2.\n</code></pre> <p>Compact style:</p> <p>Term 1   ~ Definition 1</p> <p>Term 2   ~ Definition 2a   ~ Definition 2b</p>","text":""},{"location":"other/test/#abbreviations","title":"Abbreviations <p>This is HTML abbreviation example.</p> <p>It converts \"HTML\", but keep intact partial entries like \"xxxHTMLyyy\" and so on.</p> <p>*[HTML]: Hyper Text Markup Language</p>","text":""},{"location":"other/test/#custom-containers","title":"Custom containers <p>::: warning here be dragons :::</p>","text":""},{"location":"other/test/#annotetions","title":"Annotetions  Note <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p>   <p>Phasellus posuere in sem ut cursus</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p>   <p>Note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>   <p>Note</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Abstract</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Info</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Tip</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Success</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Question</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Warning</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Failure</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Danger</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Bug</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Example</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>   <p>Quote</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>","text":""},{"location":"other/test/#contant-tabs","title":"Contant Tabs","text":""},{"location":"other/test/#code-block","title":"Code Block <p>=== \"C\"</p> <pre><code>``` c\n#include &lt;stdio.h&gt;\n\nint main(void) {\n  printf(\"Hello world!\\n\");\n  return 0;\n}\n```\n</code></pre> <p>=== \"C++\"</p> <pre><code>``` c++\n#include &lt;iostream&gt;\n\nint main(void) {\n  std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n  return 0;\n}\n```\n</code></pre>","text":""},{"location":"other/test/#content","title":"content <p>=== \"Unordered list\"</p> <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <p>=== \"Ordered list\"</p> <pre><code>1. Sed sagittis eleifend rutrum\n2. Donec vitae suscipit est\n3. Nulla tempor lobortis orci\n</code></pre>","text":""},{"location":"other/test/#code-block_1","title":"Code Block","text":"bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>def bubble_sort(items):\nfor i in range(len(items)):\nfor j in range(len(items) - 1 - i):\nif items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"other/test/#plantuml","title":"Plantuml    <ol> <li> <p>Footnote can have markup</p> <p>and multiple paragraphs.\u00a0\u21a9</p> </li> <li> <p>Footnote text.\u00a0\u21a9\u21a9</p> </li> </ol>","text":""},{"location":"other/learning_modern_linux/3_script/","title":"3\u7ae0 \u30b7\u30a7\u30eb\u3068\u30b9\u30af\u30ea\u30d7\u30c8","text":""},{"location":"other/learning_modern_linux/3_script/#_1","title":"\u7528\u8a9e","text":""},{"location":"other/learning_modern_linux/3_script/#_2","title":"\u30bf\u30fc\u30df\u30ca\u30eb","text":"<ul> <li>\u6587\u5b57\u306e\u5165\u51fa\u529b</li> <li>\u30a8\u30b9\u30b1\u30fc\u30d7\u30b7\u30fc\u30b1\u30f3\u30b9<ul> <li>\u30d0\u30c3\u30af\u30b9\u30d9\u30fc\u30b9\u3068\u304b</li> </ul> </li> <li>\u7a2e\u985e<ul> <li>xterm, rxvt, Gnome terminator</li> <li>New: Alacritty, kitty, warp GPU\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3089\u3057\u3044</li> </ul> </li> </ul>"},{"location":"other/learning_modern_linux/3_script/#_3","title":"\u30b7\u30a7\u30eb","text":"<p>\u30bf\u30fc\u30df\u30ca\u30eb\u5185\u3067\u52d5\u4f5c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3002\u30b9\u30c8\u30ea\u30fc\u30e0\u306b\u3088\u308b\u5165\u51fa\u529b\u51e6\u7406\u3001\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3092\u3059\u308b\u3002\u5bfe\u8a71\u7684\uff0f\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e\u4f7f\u7528\u3002</p> <pre><code>user@vm:~$ file -h /bin/sh\n/bin/sh: symbolic link to dash\nuser@vm:~$ echo $0\n-bash\nuser@vm:~$ echo $SHELL\n/bin/bash\n</code></pre>"},{"location":"other/learning_modern_linux/3_script/#_4","title":"\u30b9\u30c8\u30ea\u30fc\u30e0","text":"<p>\u5165\u529b\u30b9\u30c8\u30ea\u30fc\u30e0(input stream)\u3068\u51fa\u529b\u30b9\u30c8\u30ea\u30fc\u30e0(output stream)\u304c\u3042\u308b\u30022\u3064\u5408\u308f\u305b\u3066\u5165\u51fa\u529b(I/O, Input/Output)\u3068\u3044\u3046\u3002</p> <p>\u30b7\u30a7\u30eb\u306f\u3059\u3079\u3066\u306e\u30d7\u30ed\u30bb\u30b9\u306b3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf(FD)\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3057\u3066\u3044\u308b\u3002</p> <ul> <li><code>stdin</code> (FD 0): \u6a19\u6e96\u5165\u529b</li> <li><code>stdout</code> (FD 1): \u6a19\u6e96\u51fa\u529b</li> <li><code>stderr</code> (FD 2): \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b</li> </ul> <p>\u7279\u306b\u6307\u5b9a\u3057\u306a\u3044\u9650\u308a\u3001\u30b7\u30a7\u30eb\u3067\u5165\u529b\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u5165\u529b(stdin)\u3055\u308c\u3001\u753b\u9762\u306b\u51fa\u529b(stdout)\u3059\u308b\u3002\u30a8\u30e9\u30fc\u767a\u751f\u6642\u3082\u753b\u9762\u306b\u51fa\u529b\u3059\u308b(stderr)\u3002</p> <p>\u30b9\u30c8\u30ea\u30fc\u30e0\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c81\u3067\u304d\u308b\u3002<code>$FD&gt;</code>\u3068<code>&lt;$FD</code>\u3092\u4f7f\u7528\u3059\u308b\u3002<code>$FD</code>\u306f\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u3067\u3042\u308b\u3002</p> <p>\u4f8b\u3048\u3070\u6b21\u306e\u901a\u308a\u3002</p> <ul> <li><code>2&gt;</code> <code>stderr</code>\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8</li> <li><code>1&gt;</code>, <code>&gt;</code> (\u540c\u3058\u610f\u5473) <code>stdout</code>\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8</li> <li><code>&amp;&gt;</code> <code>stderr</code>\u3068<code>stdout</code>\u306e\u4e21\u65b9\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8</li> </ul> <p>\u307e\u305f\u3001\u884c\u304d\u5148\u3092<code>/dev/null</code>\u306b\u3059\u308b\u3068\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u51fa\u529b\u306f\u7834\u68c4\u3055\u308c\u308b\u3002</p> <p>\u30b7\u30a7\u30eb\u306f\u6b21\u306e\u7279\u6b8a\u6587\u5b57\u3092\u89e3\u91c8\u3059\u308b\u3002</p> <ul> <li>\u30a2\u30f3\u30d1\u30b5\u30f3\u30c9 (<code>&amp;</code>)     \u30b3\u30de\u30f3\u30c9\u306e\u6700\u5f8c\u306b\u7f6e\u304f\u3068\u30b3\u30de\u30f3\u30c9\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b</li> <li>\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5 (<code>\\</code>)     \u6b21\u306e\u884c\u306b\u30b3\u30de\u30f3\u30c9\u3092\u7d9a\u3051\u308b</li> <li>\u30d1\u30a4\u30d7 (<code>|</code>)     \u3042\u308b\u30d7\u30ed\u30bb\u30b9\u306e<code>stdout</code>\u3068\u6b21\u306e\u30d7\u30ed\u30bb\u30b9\u306e<code>stdin</code>\u3092\u3064\u306a\u3050</li> </ul> <p>Info</p> <ul> <li><code>curl</code> HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b</li> <li><code>head</code> \u5148\u982d\u304b\u3089\u6570\u884c\u8868\u793a\u3059\u308b<ul> <li>ex <code>$ head -n 10</code></li> </ul> </li> <li><code>tr</code> stdin\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u6587\u5b57\u3092\u7f6e\u63db\u3059\u308b</li> <li><code>wc</code> 'word count' \u6587\u5b57\u3084\u884c\u6570\u3092\u6570\u3048\u308b</li> </ul>"},{"location":"other/learning_modern_linux/3_script/#_5","title":"\u5909\u6570","text":"<p>2\u7a2e\u985e\u3042\u308b\u3002<code>unset</code>\u3067\u672a\u5b9a\u7fa9\u306e\u72b6\u614b\u306b\u623b\u305b\u308b\u3002</p> <ul> <li>\u74b0\u5883\u5909\u6570<ul> <li>\u30b7\u30a7\u30eb\u5168\u4f53\u306e\u8a2d\u5b9a</li> <li><code>export</code>\u3092\u4f7f\u3063\u3066\u4f5c\u6210(bash)</li> </ul> </li> <li>\u30b7\u30a7\u30eb\u5909\u6570<ul> <li>\u5b9f\u884c\u4e2d\u306e\u30b7\u30a7\u30eb\u3067\u306e\u307f\u6709\u52b9\u3001\u5b50\u30d7\u30ed\u30bb\u30b9\u306b\u306f\u7d99\u627f\u3055\u308c\u306a\u3044</li> <li><code>set</code>\u3092\u4f7f\u3063\u3066\u4f5c\u6210\u3082\u3067\u304d\u308b</li> </ul> </li> </ul> <p>\u5909\u6570\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u306f\u5909\u6570\u306e\u524d\u306b<code>$</code>\u3092\u3064\u3051\u308b\u3002 \u5b9f\u4f8b\u306f\u6b21\u306e\u3068\u304a\u308a\u3002</p> <pre><code>$ MY_VAR=42 # \u30b7\u30a7\u30eb\u5909\u6570\n$ set | grep \"^MY_*\"\nMY_VAR=42\n$ echo MY_VAR\nMY_VAR\n$ echo $MY_VAR\n42\n$ export MY_GLB=\"omg\" # \u74b0\u5883\u5909\u6570\n$ set | grep \"^MY_*\"\nMY_GLB=omg\nMY_VAR=42\n$ bash # \u3053\u3053\u304b\u3089\u5b50\u30d7\u30ed\u30bb\u30b9\u306e\u30b7\u30a7\u30eb\n$ set | grep \"^MY_*\"\nMY_GLB=omg # &lt;- \u74b0\u5883\u5909\u6570\u3060\u3051\n</code></pre> <p>\u6b21\u306e\u3088\u3046\u306a\u74b0\u5883\u5909\u6570\u3082\u3042\u308b\u3002\u30b7\u30a7\u30eb\u3084\u74b0\u5883\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u3002</p> <pre><code>$ echo $? # ? \u76f4\u524d\u306b\u5b9f\u884c\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u30b9\u30c6\u30fc\u30bf\u30b9 (0\u304c\u6b63\u5e38, 1-255\u306f\u5931\u6557)\n0\n$ echo $$ # $ \u73fe\u5728\u306e\u30d7\u30ed\u30bb\u30b9\u306ePID\n198\n$ echo $0 # 0 \u73fe\u5728\u306e\u30d7\u30ed\u30bb\u30b9\u306e\u540d\u524d\n-bash\n$ ps\n  PID TTY          TIME CMD\n  198 pts/2    00:00:00 bash\n  253 pts/2    00:00:00 ps\n$ echo $_ # _ \u76f4\u524d\u306e\u30b3\u30de\u30f3\u30c9\nps\n</code></pre>"},{"location":"other/learning_modern_linux/3_script/#_6","title":"\u30d3\u30eb\u30c9\u30a4\u30f3\u30b3\u30de\u30f3\u30c9","text":"<p>\u30b7\u30a7\u30eb\u306b\u306f\u30d3\u30eb\u30c9\u30a4\u30f3\u30b3\u30de\u30f3\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\u305d\u3082\u305d\u3082\u30b3\u30de\u30f3\u30c9\u306b\u306f\u30b7\u30a7\u30eb\u30d3\u30eb\u30c9\u30a4\u30f3\u3060\u3051\u3067\u306a\u304f\u3001<code>/usr/bin</code>\u306a\u3069\u30b7\u30a7\u30eb\u306e\u5916\u90e8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3084\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u30b3\u30de\u30f3\u30c9\u306a\u3069\u7a2e\u985e\u304c\u3042\u308b\u3002</p> <p>\u30b3\u30de\u30f3\u30c9\u306e\u7a2e\u985e\u3092\u8abf\u3079\u308b\u305f\u3081\u306b\u306f<code>type</code>\u304c\u5229\u7528\u3067\u304d\u308b\u3002</p> <pre><code>$ type cd\ncd is a shell builtin\n$ type sh\nsh is /usr/bin/sh\n$ type ls\nls is aliased to `ls --color=auto'\n</code></pre> <p>\u307e\u305f\u3001\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u6240\u306f~~<code>which</code>~~2 <code>command -v</code> \u3067\u53d6\u5f97\u3067\u304d\u308b\u3002</p> <p>\u53c2\u8003 Qiita - POSIX\u30b3\u30de\u30f3\u30c9\u306f\u300c\u3069\u306e\u74b0\u5883\u306b\u3082\u3042\u308b\u30b3\u30de\u30f3\u30c9\u300d\u3067\u306f\u306a\u3044\u3088\u3068\u3044\u3046\u8a71</p>"},{"location":"other/learning_modern_linux/3_script/#_7","title":"\u30b8\u30e7\u30d6\u5236\u5fa1","text":"<p>\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u5b9f\u884c \u30b7\u30a7\u30eb\u3067\u901a\u5e38\u901a\u308a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u753b\u9762\u3068\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u5236\u5fa1\u3092\u53d7\u3051\u308b</p> <p>\u5bfe\u8a71\u7684\u306b\u5b9f\u884c\u3057\u306a\u3044\u5834\u5408\u3084\u30b5\u30fc\u30d0\u306e\u3088\u3046\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5834\u5408\u3001\u30b8\u30e7\u30d6\u5236\u5fa1\u3068\u30d0\u30c3\u30b0\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u304c\u3042\u308b\u3002</p> <ul> <li>\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u6700\u5f8c\u306b &amp; \u3092\u3064\u3051\u308b</li> <li>\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u30d0\u30c3\u30b0\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u9001\u308b\u306b\u306f Ctrl + Z \u3092\u62bc\u3059</li> </ul> <pre><code>$ watch -n 5 \"ls\" &amp; # watch \u30b3\u30de\u30f3\u30c9\u3092\u30d0\u30c3\u30b0\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\n[1] 299\n$ jobs # \u3059\u3079\u3066\u306e\u30b8\u30e7\u30d6\u306e\u4e00\u89a7\u3092\u8868\u793a\n[1]+  Stopped                 watch -n 5 \"ls\"\n$ fg # \u3042\u308b\u30d7\u30ed\u30bb\u30b9\u3092\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\n</code></pre> <p>Info</p> <ul> <li><code>nohup COMMAND &amp;</code> \u30b7\u30a7\u30eb\u304c\u9589\u3058\u305f\u5f8c\u3082\u30b3\u30de\u30f3\u30c9\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b</li> <li><code>disown</code></li> <li><code>kill</code> \u5bfe\u8c61\u306e\u30d7\u30ed\u30bb\u30b9\u306b\u30b7\u30b0\u30ca\u30eb\u3092\u9001\u4fe1\u3057\u3066\u7d42\u4e86\u3055\u305b\u308b</li> </ul>"},{"location":"other/learning_modern_linux/3_script/#_8","title":"\u30e2\u30c0\u30f3\u306a\u30b3\u30de\u30f3\u30c9","text":"<p>\u65e5\u5e38\u7684\u306b\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u3092\u3088\u308a\u4f7f\u3044\u3084\u3059\u304f\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u3002</p> <ul> <li><code>exa</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5185\u5bb9\u3092\u51fa\u529b</li> <li><code>bat</code> \u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u8868\u793a(<code>cat</code>\u306e\u9032\u5316\u7cfb)</li> <li><code>rg</code> \u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u691c\u7d22(<code>find</code>\u3068<code>grep</code>)</li> <li><code>jq</code> JSON\u30c7\u30fc\u30bf\u306e\u51e6\u7406</li> </ul>"},{"location":"other/learning_modern_linux/3_script/#_9","title":"\u30b7\u30a7\u30eb\u4f5c\u696d\u306e\u52b9\u7387\u5316","text":""},{"location":"other/learning_modern_linux/3_script/#_10","title":"\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306e\u6574\u7406","text":"<p><code>vi</code>\u3092\u4f7f\u308f\u306a\u3044\u30c6\u30ad\u30b9\u30c8\u306e\u51e6\u7406\u3082\u8272\u3005\u3042\u308b\u3002</p> <pre><code># /tmp/something \u3092\u4f5c\u6210\u3057\u4e00\u884c\u8ffd\u52a0\n$ echo \"First line\" &gt; /tmp/something\n\n# /tmp/something \u3092\u8868\u793a\n$ cat /tmp/something\nFirst Line\n\n# /tmp/something \u306e2\u884c\u76ee\u3092\u8ffd\u8a18\n$ echo \"Second Line\" &gt;&gt; /tmp/something &amp;&amp; \\\n&gt; cat /tmp/something\nFirst Line\nSecond Line\n\n# /tmp/something \u306e\u5185\u5bb9\u3092sed\u3067\u7f6e\u63db\u3057stdout\u3078 (-i\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u4e0a\u66f8\u304d)\n$ sed 's/Line/LINE/' /tmp/something\nFirst LINE\nSecond LINE\n\n\n# \u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n# https://tldp.org/LDP/abs/html/here-docs.html\n$ cat &lt;&lt; 'EOF' &gt; /tmp/another\nFirst Line\nSecond line\nThird line\nEOF\n\n# \u30d5\u30a1\u30a4\u30eb\u306e\u5dee\u5206\u3092\u8868\u793a\n$ diff -y /tmp/something /tmp/another\nFirst Line                                                      First Line\nSecond Line                                                   | Second line\n                                                              &gt; Third line\n</code></pre>"},{"location":"other/learning_modern_linux/3_script/#_11","title":"\u9577\u3044\u30d5\u30a1\u30a4\u30eb\u306e\u53c2\u7167","text":"<p><code>less</code>\u3084bat\u306e\u3088\u3046\u306a\u30da\u30fc\u30b8\u30e3\u3092\u4f7f\u7528\u3059\u308b\u306e\u304c\u666e\u901a\u3060\u304c\u3001\u4ed6\u306b\u3082\u3044\u304f\u3064\u304b\u65b9\u6cd5\u304c\u3042\u308b\u3002</p> <ul> <li><code>head</code> \u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d\u884c\u3092\u8868\u793a<ul> <li>ex. <code>head -5 [file]</code> file\u306e5\u884c\u76ee\u307e\u3067\u8868\u793a</li> </ul> </li> <li><code>tail -f</code> \u6700\u7d42\u884c\u304b\u3089\u6570\u884c\u8868\u793a\u3059\u308b\u30b3\u30de\u30f3\u30c9 + <code>-f</code> \u30e9\u30a4\u30d6\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u51fa\u529b<ul> <li>ex. <code>tail -f [file]</code></li> </ul> </li> </ul> <ol> <li> <p>stdin, stdout, stderr\u3092\u30b7\u30a7\u30eb\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u4ee5\u5916\u306b\u8ee2\u9001\u3059\u308b\u3053\u3068(\u30b7\u30a7\u30eb\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u3084\u30e2\u30cb\u30bf)\u00a0\u21a9</p> </li> <li> <p><code>which</code>\u30b3\u30de\u30f3\u30c9\u306fPOSIX\u3067\u898f\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u305f\u3081\u3001\u5229\u7528\u3067\u304d\u306a\u3044\u74b0\u5883\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u4e00\u65b9\u3001<code>command</code>\u306fbash\u3067\u306f\u30d3\u30eb\u30c9\u30a4\u30f3\u30b3\u30de\u30f3\u30c9(POSIX\u3067\u3082\u898f\u5b9a)\u3067\u3059\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"other/learning_modern_linux/4_access_controls/","title":"4\u7ae0 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1","text":"<p>Created: 2023/10/09</p>"},{"location":"other/learning_modern_linux/4_access_controls/#_1","title":"\u57fa\u672c","text":""},{"location":"other/learning_modern_linux/4_access_controls/#_2","title":"\u30ea\u30bd\u30fc\u30b9\u3068\u6240\u6709\u6a29","text":"<ul> <li>\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8<ul> <li>\u2191 \u30e6\u30fc\u30b6ID\u304c\u7d10\u3065\u3044\u3066\u3044\u308b</li> <li>\u4eba\u9593\u306f\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b</li> <li>\u30d7\u30ed\u30bb\u30b9\u306f\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u3088\u3063\u3066\u5b9f\u884c\u3067\u304d\u308b</li> </ul> </li> </ul> <pre><code>graph LR\n    user(\u30e6\u30fc\u30b6) --&gt;|\u8d77\u52d5| proc(\u30d7\u30ed\u30bb\u30b9)\n    proc --&gt;|\u4f7f\u7528| file(\u30d5\u30a1\u30a4\u30eb)\n    file --&gt;|\u6240\u6709| user\n</code></pre> <p>Linux\u306b\u304a\u3051\u308b\u30e6\u30fc\u30b6\u3001\u30d7\u30ed\u30bb\u30b9\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u95a2\u4fc2\u306f\u6b21\u306e\u901a\u308a\u3002</p> <ul> <li>\u30e6\u30fc\u30b6<ul> <li>\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u6240\u6709</li> <li>\u30d7\u30ed\u30bb\u30b9\u3068\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u304c\u30e1\u30a4\u30f3\u30e1\u30e2\u30ea\u306b\u30ed\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u3053\u3068\u3092\u6307\u3059</li> </ul> </li> <li>\u30d5\u30a1\u30a4\u30eb<ul> <li>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u304c\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6240\u6709\u3059\u308b</li> </ul> </li> <li>\u30d7\u30ed\u30bb\u30b9<ul> <li>\u4ed6\u30d7\u30ed\u30bb\u30b9\u3068\u306e\u901a\u4fe1\u304a\u3088\u3073\u30c7\u30fc\u30bf\u306e\u6c38\u7d9a\u5316\u306e\u305f\u3081\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b</li> <li>\u30e6\u30fc\u30b6\u3082\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u304c\u3001\u305d\u308ch\u3042\u30d7\u30ed\u30bb\u30b9\u3092\u4ecb\u3057\u305f\u76f4\u63a5\u7684\u306a\u4f7f\u7528\u3068\u306a\u308b</li> </ul> </li> </ul>"},{"location":"other/learning_modern_linux/4_access_controls/#_3","title":"\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9\u5316","text":"<p>FreeBSD jail\u3001\u30b3\u30f3\u30c6\u30ca\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306a\u3069\u306e\u69d8\u3005\u306a\u624b\u6cd5\u3092\u6307\u3059\u3053\u3068\u304c\u3042\u308b\u3001\u66d6\u6627\u306a\u8a00\u8449\u3002</p>"},{"location":"other/learning_modern_linux/4_access_controls/#_4","title":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u7a2e\u985e","text":"<ul> <li>\u4efb\u610f\u30a2\u30af\u30bb\u30b9\u5236\u5fa1<ul> <li>\u30e6\u30fc\u30b6\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3(\u30e6\u30fc\u30b6ID\u306a\u3069)\u306b\u57fa\u3065\u3044\u3066\u30ea\u30bd\u30fc\u30b9\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u9650\u3059\u308b\u3002</li> <li>\u3042\u308b\u6a29\u9650\u3092\u6301\u3064\u30e6\u30fc\u30b6\u306f\u4ed6\u306e\u30e6\u30fc\u30b6\u4f4d\u306b\u305d\u306e\u6a29\u9650\u3092\u8b72\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff08\u306e\u3067\u4efb\u610f\uff09</li> </ul> </li> <li>\u5f37\u5236\u30a2\u30af\u30bb\u30b9\u5236\u5fa1<ul> <li>\u30e6\u30fc\u30b6\u306b\u306f\u30af\u30ea\u30a2\u30e9\u30f3\u30b9\u30ec\u30d9\u30eb\u304c\u3001\u30ea\u30bd\u30fc\u30b9\u306b\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b</li> <li>\u30e6\u30fc\u30b6\u306f\u81ea\u5206\u306e\u30af\u30ea\u30a2\u30e9\u30f3\u30b9\u30ec\u30d9\u30eb\u3068\u540c\u7b49\u307e\u305f\u306f\u305d\u308c\u3044\u304b\u306e\u30af\u30ea\u30a2\u30e9\u30f3\u30b9\u30ec\u30d9\u30eb\u306b\u5bfe\u5fdc\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u306b\u306e\u307f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b</li> <li>\u3053\u306e\u5f37\u5236\u30a2\u30af\u30bb\u30b9\u30e2\u30c7\u30eb\u3067\u306f\u7ba1\u7406\u8005\u304c\u300c\u53b3\u5bc6\u306b\u300d\u30a2\u30af\u30bb\u30b9\u3092\u5236\u5fa1\u3057\u3001\u3059\u3079\u3066\u306e\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b</li> <li>\u30e6\u30fc\u30b6\u306f\u3001\u305f\u3068\u3048\u81ea\u5206\u306e\u6240\u6709\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u3067\u3042\u3063\u3066\u3082\u3001\u81ea\u5206\u81ea\u8eab\u3067\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u8a2d\u5b9a\u3067\u304d\u306a\u3044</li> </ul> </li> </ul> <p>Linux\u306f\u3001\u3059\u3079\u3066\u3092\u5909\u66f4\u3067\u304d\u308b\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u304b\u3001\u30a2\u30af\u30bb\u30b9\u304c\u5236\u9650\u3055\u308c\u305f\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u304b\u306e\u3069\u3061\u3089\u304b\u3067\u3042\u308b\u3002</p> <p>SELinux\u306fLinux\u306b\u304a\u3051\u308b\u5f37\u5236\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u5b9f\u88c5\u3067\u3042\u308b\u3002</p>"},{"location":"other/learning_modern_linux/4_access_controls/#_5","title":"\u30e6\u30fc\u30b6","text":"<p>2\u7a2e\u985e\u306e\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3042\u308b\u3002</p> <ul> <li>\u3044\u308f\u3086\u308b\u30b7\u30b9\u30c6\u30e0\u30e6\u30fc\u30b6\u3001\u307e\u305f\u306f\u30b7\u30b9\u30c6\u30e0\u30a2\u30ab\u30a6\u30f3\u30c8<ul> <li>\u30c7\u30fc\u30e2\u30f3\u3001\u30b7\u30b9\u30c6\u30e0\u30e6\u30fc\u30b6\u6a29\u9650\u3067\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u5b9f\u884c\u3055\u308c\u308b</li> </ul> </li> <li>\u4e00\u822c\u30e6\u30fc\u30b6<ul> <li>\u30b7\u30a7\u30eb\u3092\u4ecb\u3057\u3066\u5bfe\u8a71\u7684\u306bLinux\u3092\u5229\u7528\u3059\u308b\u30e6\u30fc\u30b6\u3092\u6307\u3059</li> </ul> </li> </ul> <p>\u30b7\u30b9\u30c6\u30e0\u30e6\u30fc\u30b6\u3068\u4e00\u822c\u30e6\u30fc\u30b6\u306f\u7d44\u7e54\u5f62\u614b\u306b\u3088\u3063\u3066\u533a\u5225\u3059\u308b\u3002</p> <ul> <li>\u30e6\u30fc\u30b6ID(UID)<ul> <li>Linux\u304c\u7ba1\u7406\u3059\u308b32bit\u306e\u6570\u5024</li> <li>Linux\u306fUID\u3067\u30e6\u30fc\u30b6\u3092\u8b58\u5225\u3059\u308b<ul> <li>\u304b\u3064\u3001\u30b0\u30eb\u30fc\u30d7ID(GID)</li> </ul> </li> </ul> </li> </ul>"}]}